<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Phụ Kiện Apple Chính Hãng - Apple</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'sans': ['Helvetica', 'Arial', 'sans-serif'],
                        'heading': ['Helvetica', 'Arial', 'sans-serif'],
                    },
                    colors: {
                        'brand-primary': '#000000',
                        'brand-secondary': '#FFFFFF',
                        'text-dark': '#000000',
                        'text-light': '#555555',
                        'sale': '#000000',
                        'overlay': 'rgba(0, 0, 0, 0.6)',
                        'success': '#000000',
                        'chat-bg': '#F0F0F0',
                        'border-color': '#DDDDDD',
                        'glow-yellow': '#FFD700',
                        'offer-bg': '#FFFBEB', 
                        'offer-text': '#B45309', 
                        'offer-border': '#FDE68A',
                    }
                }
            }
        }
    </script>
    <style>
        body { font-family: theme('fontFamily.sans'); color: theme('colors.text-dark'); }
        h1, h2, h3, h4, h5, h6 { font-family: theme('fontFamily.heading'); }

        .original-price { text-decoration: line-through; color: theme('colors.text-light'); }
        .product-card, .news-card, .related-product-card { transition: transform 0.3s ease, box-shadow 0.3s ease; cursor: pointer; position: relative; border-color: theme('colors.border-color'); }
        .product-card:hover, .news-card:hover, .related-product-card:hover { transform: translateY(-5px); box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1); }

        /* --- Styling cho Modal, Cart, Chat --- */
        .modal, .cart-panel, .checkout-modal { display: none; position: fixed; z-index: 1050; top: 0; left: 0; width: 100%; height: 100%; overflow-x: hidden; overflow-y: auto; }
        .modal.active, .cart-panel.active, .checkout-modal.active { display: flex; }
        .modal-overlay, .cart-overlay, .checkout-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: theme('colors.overlay'); z-index: 1040; display: none; }
        .modal-overlay.active, .cart-overlay.active, .checkout-overlay.active { display: block; }
        .modal-content, .checkout-modal-content { position: relative; margin: auto; z-index: 1051; max-height: 90vh; overflow-y: auto; }
        .cart-content { position: fixed; top: 0; right: 0; height: 100%; width: 90%; max-width: 400px; background-color: white; z-index: 1051; transform: translateX(100%); transition: transform 0.3s ease-in-out; display: flex; flex-direction: column; }
        .cart-panel.active .cart-content { transform: translateX(0); }
        .cart-body { flex-grow: 1; overflow-y: auto; }

        /* --- Styling cho Menu Mobile --- */
        .mobile-menu { display: none; position: fixed; top: 0; right: 0; height: 100%; width: 256px; background-color: white; box-shadow: -2px 0 5px rgba(0,0,0,0.1); padding: 1.5rem; z-index: 1060; transform: translateX(100%); transition: transform 0.3s ease-in-out; }
        .mobile-menu.active { display: block; transform: translateX(0); }

        /* --- Styling cho Chatbox --- */
         .chatbox { display: none; position: fixed; bottom: 90px; right: 20px; width: 300px; max-width: 90vw; height: 400px; background-color: white; border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.2); z-index: 1010; overflow: hidden; flex-direction: column; transition: opacity 0.3s ease, transform 0.3s ease; opacity: 0; transform: translateY(20px); }
         .chatbox.active { display: flex; opacity: 1; transform: translateY(0); }
         .chatbox-header { background-color: #f1f1f1; padding: 10px 15px; border-bottom: 1px solid theme('colors.border-color'); }
         .chatbox-body { flex-grow: 1; padding: 15px; overflow-y: auto; }
         .chatbox-footer { padding: 10px; border-top: 1px solid theme('colors.border-color'); }
         .chat-message { margin-bottom: 10px; }
         .chat-message.greeting p { background-color: theme('colors.chat-bg'); color: theme('colors.text-dark'); padding: 8px 12px; border-radius: 15px 15px 15px 0; display: inline-block; max-width: 80%; font-size: 0.9rem; }

        /* --- Styling cho Wishlist Button --- */
        .wishlist-button { position: absolute; top: 10px; right: 10px; background-color: rgba(255, 255, 255, 0.8); border-radius: 50%; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; color: #aaa; cursor: pointer; transition: color 0.2s ease, background-color 0.2s ease; z-index: 10; }
        .wishlist-button:hover { background-color: rgba(255, 255, 255, 1); color: #888; }
        .wishlist-button.saved { color: theme('colors.brand-primary'); }
        .wishlist-button.saved:hover { color: #333; }
        .wishlist-button i { font-size: 16px; }

        /* --- Styling cho Toast --- */
        .toast-notification { position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); background-color: rgba(0, 0, 0, 0.8); color: white; padding: 10px 20px; border-radius: 20px; font-size: 0.9rem; z-index: 1100; opacity: 0; transition: opacity 0.3s ease, transform 0.3s ease; white-space: nowrap; }
        .toast-notification.show { opacity: 1; transform: translateX(-50%) translateY(0); }

        .support-button { position: fixed; bottom: 20px; right: 20px; z-index: 1000; }
        body.overflow-hidden { overflow: hidden; }

        /* --- Hero Section --- */
        #home { position: relative; overflow: hidden; }
        .hero-background-container { position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; }
        .hero-background-image { width: 100%; height: 100%; object-fit: cover; object-position: center; }
         .hero-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.5); z-index: 0; }
        #home .container { position: relative; z-index: 1; }
        #home h1 { color: #FFFFFF; }
        #home h1.text-glow-yellow { text-shadow: 0 0 8px theme('colors.glow-yellow'), 0 0 15px theme('colors.glow-yellow'), 0 0 20px #FFBF00; }
        #home p { color: #FFFFFF; }
        #home a { background-color: #FFFFFF; color: #000000; }
         #home a:hover { background-color: #e0e0e0; }

         /* --- Đảm bảo màu chữ trên các nút màu đen --- */
        .bg-brand-primary, .bg-success, .bg-sale { color: #FFFFFF !important; }
         .bg-brand-primary:hover, .bg-success:hover { background-color: #333333 !important; }
         #cart-count, #cart-count-mobile { background-color: theme('colors.brand-primary'); color: #FFFFFF; }
         footer a { color: #CCCCCC; }
         footer a:hover { color: #FFFFFF; }
         input[type="text"], input[type="tel"], input[type="email"], textarea { border-color: theme('colors.border-color'); }
         input:focus, textarea:focus { border-color: theme('colors.brand-primary') !important; box-shadow: 0 0 0 1px theme('colors.brand-primary') !important; }

        /* --- Styling cho Product Detail View --- */
        #product-detail-view { display: none; }
        .color-swatch { width: 24px; height: 24px; border-radius: 50%; display: inline-block; margin-right: 8px; cursor: pointer; border: 2px solid transparent; transition: border-color 0.2s ease; }
        .color-swatch.selected { border-color: theme('colors.brand-primary'); }
        .color-swatch:hover { opacity: 0.8; }
        /* Ưu đãi */
        .offer-box { background-color: theme('colors.offer-bg'); border: 1px solid theme('colors.offer-border'); color: theme('colors.offer-text'); }
        .offer-box i { color: theme('colors.offer-text'); }

        /* Ẩn các section chính khi xem chi tiết */
        body.viewing-product-detail #home,
        body.viewing-product-detail #store-intro,
        body.viewing-product-detail #products,
        body.viewing-product-detail #promo-banners,
        body.viewing-product-detail #news,
        body.viewing-product-detail #info, /* <- Đã có sẵn */
        body.viewing-product-detail #contact, /* <--- THÊM DÒNG NÀY VÀO */
        body.viewing-product-detail footer, /* Giữ lại dòng này phòng trường hợp bạn có thẻ footer thật */
        body.viewing-product-detail #support-button,
        body.viewing-product-detail #image-slider-section,
        body.viewing-product-detail #product-video
        { display: none; }

        body.viewing-product-detail #product-detail-view { display: block; }

        /* --- Sidebar Styling --- */
        .category-link { display: flex; align-items: center; padding: 8px 0; border-radius: 6px; transition: background-color 0.2s ease; }
        .category-link:hover { background-color: #f0f0f0; }
        .category-link.active { background-color: #e0e0e0; font-weight: 600; }
        .category-link i { width: 24px; text-align: center; margin-right: 10px; color: theme('colors.text-light'); }
        .category-link.active i { color: theme('colors.text-dark'); }

        /* --- Related Products Styling --- */
        .related-products-container::-webkit-scrollbar { height: 6px; }
        .related-products-container::-webkit-scrollbar-track { background: #f1f1f1; border-radius: 10px; }
        .related-products-container::-webkit-scrollbar-thumb { background: #ccc; border-radius: 10px; }
        .related-products-container::-webkit-scrollbar-thumb:hover { background: #aaa; }

        /* --- Header Search Input Styling --- */
        #header-search-input { transition: width 0.3s ease-in-out; }

        /* --- Image Slider Styling --- */
        .slider-button {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background-color: rgba(0, 0, 0, 0.4);
            color: white;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 10;
            transition: background-color 0.2s ease;
        }
        .slider-button:hover { background-color: rgba(0, 0, 0, 0.7); }
        .slider-button.prev { left: 1rem; }
        .slider-button.next { right: 1rem; }
        .slider-dots {
            position: absolute;
            bottom: 1rem;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 0.5rem;
            z-index: 10;
        }
        .slider-dot {
            width: 10px;
            height: 10px;
            background-color: rgba(255, 255, 255, 0.5);
            border-radius: 50%;
            cursor: pointer;
            transition: background-color 0.2s ease;
        }
        .slider-dot.active { background-color: rgba(255, 255, 255, 1); }

    </style>
</head>
<body class="bg-white">

    <header class="bg-white shadow-md sticky top-0 z-50">
        <div class="container mx-auto px-4 py-4 flex justify-between items-center">
            <a href="#" class="text-2xl font-heading font-bold text-brand-primary flex items-center">
                <i class="fab fa-apple mr-2"></i> N2K STORE
            </a>
            <nav class="hidden md:flex flex-grow justify-center space-x-8">
                <a href="#home" class="text-text-dark hover:text-text-light transition duration-300">Home</a>
                <a href="#products" class="text-text-dark hover:text-text-light transition duration-300">Shop</a>
                <a href="#news" class="text-text-dark hover:text-text-light transition duration-300">Blog</a>
            </nav>
            <div class="hidden md:flex items-center space-x-6">
    <button id="search-button-desktop" aria-label="Tìm kiếm" class="text-text-dark hover:text-text-light transition duration-300">
        <i class="fas fa-search text-xl"></i>
    </button>

    <input type="text" id="search-input-desktop" placeholder="Tìm kiếm..." class="px-3 py-1 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-brand-primary focus:border-transparent text-text-dark">

    <a id="buyer-info-button" href="https://appleid.apple.com/" aria-label="Thông tin tài khoản (Đăng nhập Apple)" class="text-text-dark hover:text-text-light transition duration-300 relative" target="_blank" rel="noopener noreferrer">
        <i class="fas fa-user text-xl"></i>
    </a>

    <a id="login-button" href="https://www.icloud.com/" aria-label="Đăng nhập hoặc Đăng ký (iCloud)" class="text-text-dark hover:text-text-light transition duration-300" target="_blank" rel="noopener noreferrer">
        <i class="fas fa-user-circle text-xl"></i>
    </a>

    <button id="cart-button" class="relative text-text-dark hover:text-text-light transition duration-300">
        <i class="fas fa-shopping-cart text-xl"></i>
        <span id="cart-count" class="absolute -top-2 -right-2 bg-brand-primary text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center">0</span>
    </button>
</div>
        </div>
            
            <div class="md:hidden flex items-center space-x-4">
                <button id="cart-button-mobile" class="relative text-text-dark hover:text-text-light transition duration-300">
                    <i class="fas fa-shopping-cart text-xl"></i>
                    <span id="cart-count-mobile" class="absolute -top-2 -right-2 bg-brand-primary text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center">0</span>
                </button>
                <button id="mobile-menu-button" class="text-text-dark focus:outline-none">
                    <i class="fas fa-bars text-2xl"></i>
                </button>
            </div>
        </div>
    </header>

    <div id="mobile-menu" class="mobile-menu">
         <button id="close-mobile-menu-button" class="absolute top-4 right-4 text-text-dark focus:outline-none"> <i class="fas fa-times text-2xl"></i> </button>
        <nav class="flex flex-col space-y-4 mt-16">
             <a href="#home" class="text-text-dark hover:text-text-light transition duration-300 block py-2 mobile-menu-link">Home</a>
             <a href="#products" class="text-text-dark hover:text-text-light transition duration-300 block py-2 mobile-menu-link">Shop</a>
            <a href="#news" class="text-text-dark hover:text-text-light transition duration-300 block py-2 mobile-menu-link">Blog</a>
            <hr class="my-4">
            <a href="#" class="text-text-dark hover:text-text-light transition duration-300 block py-2"><i class="fas fa-search mr-2"></i> Tìm kiếm</a>
            <a href="#" class="text-text-dark hover:text-text-light transition duration-300 block py-2"><i class="fas fa-user mr-2"></i> Tài khoản</a>
        </nav>
    </div>
    <div id="mobile-menu-overlay" class="modal-overlay"></div>

    <main>
        <section id="store-intro" class="py-12 md:py-16 bg-brand-secondary">
            <div class="container mx-auto px-4">
                 <h1 class="text-3xl md:text-4xl font-bold text-text-dark mb-8 md:mb-12 text-center">Cửa Hàng. <span class="text-text-light font-normal">Cách tốt nhất để mua sản phẩm bạn thích.</span></h1>

                 <div class="flex flex-wrap justify-center gap-x-8 gap-y-6 md:gap-x-12 lg:gap-x-16 mb-8 md:mb-12">
                    <a href="https://www.apple.com/mac/" class="flex flex-col items-center text-center group" target="_blank" rel="noopener noreferrer">
                        <img src="https://e7.pngegg.com/pngimages/918/793/png-clipart-macbook-pro-13-inch-macbook-air-laptop-macbook-gadget-electronics.png" alt="Mac" class="w-20 h-16 md:w-24 md:h-20 object-contain mb-2">
                        <span class="text-sm font-semibold text-text-dark group-hover:underline">Mac</span>
                    </a>
                  
                    <a href="https://www.apple.com/iphone/" class="flex flex-col items-center text-center group" target="_blank" rel="noopener noreferrer">
                        <img src="https://icon2.cleanpng.com/lnd/20240416/vry/transparent-iphone-15-pro-max-iphone-11-smartphone-camera-tech-black-iphone-11-with-camera-in-focus661f10098bf4a3.98402135.webp" alt="iPhone" class="w-20 h-16 md:w-24 md:h-20 object-contain mb-2">
                        <span class="text-sm font-semibold text-text-dark group-hover:underline">iPhone</span>
                    </a>
                  
                    <a href="https://www.apple.com/ipad/" class="flex flex-col items-center text-center group" target="_blank" rel="noopener noreferrer">
                        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR2GxCZosT0rWrWmhovF1WPk3fMQMrRjMohHg&s" alt="iPad" class="w-20 h-16 md:w-24 md:h-20 object-contain mb-2">
                        <span class="text-sm font-semibold text-text-dark group-hover:underline">iPad</span>
                    </a>
                  
                    <a href="https://www.apple.com/watch/" class="flex flex-col items-center text-center group" target="_blank" rel="noopener noreferrer">
                        <img src="https://png.pngtree.com/png-vector/20240724/ourmid/pngtree-apple-watch-series-png-image_13223399.png" alt="Apple Watch" class="w-20 h-16 md:w-24 md:h-20 object-contain mb-2">
                        <span class="text-sm font-semibold text-text-dark group-hover:underline">Apple Watch</span>
                    </a>
                  
                    <a href="https://www.apple.com/airpods/" class="flex flex-col items-center text-center group" target="_blank" rel="noopener noreferrer">
                        <img src="https://png.pngtree.com/png-vector/20221108/ourmid/pngtree-airpods-3rd-generation-wireless-headphones-png-image_6433754.png" alt="AirPods" class="w-20 h-16 md:w-24 md:h-20 object-contain mb-2">
                        <span class="text-sm font-semibold text-text-dark group-hover:underline">AirPods</span>
                    </a>
                  
                    <a href="https://www.apple.com/vn/shop/accessories/all" class="flex flex-col items-center text-center group" target="_blank" rel="noopener noreferrer">
                        <img src="https://cdn-icons-png.freepik.com/512/15713/15713756.png" alt="Phụ kiện" class="w-20 h-16 md:w-24 md:h-20 object-contain mb-2">
                        <span class="text-sm font-semibold text-text-dark group-hover:underline">Phụ kiện</span>
                    </a>
                  </div>

                 <div class="text-center mt-8 md:mt-12">
                     <div class="inline-flex items-center space-x-3 p-3 bg-gray-100 rounded-lg">
                         <img src="https://w7.pngwing.com/pngs/589/546/png-transparent-apple-logo-new-york-city-brand-computer-apple-company-computer-logo.png" alt="Chuyên gia" class="w-10 h-10 rounded-full">
                         <div>
                             <p class="text-sm text-text-dark">Bạn cần trợ giúp mua sắm?</p>
                             <a href="#" class="text-sm text-text-dark font-semibold hover:underline">Hỏi Chuyên Gia <i class="fas fa-chevron-right text-xs"></i></a>
                         </div>
                     </div>
                 </div>
            </div>
        </section>

        <section id="home" class="py-24 md:py-32 text-center relative">
              <div class="hero-background-container">
                  <img src="https://i.imgur.com/EHwK7Sq.png" alt="Video Background Placeholder" class="hero-background-image">
                  <div class="hero-overlay"></div> </div>
              <div class="container mx-auto px-4 relative z-10">
                 <h1 class="text-4xl md:text-5xl font-heading font-bold mb-4 text-glow-yellow uppercase">IPHONE 16</h1>
                 <p class="text-lg mb-8 max-w-2xl mx-auto">Khám phá những tính năng đột phá và thiết kế mới nhất từ Apple.</p>
                 <a href="#products" class="bg-white text-black px-8 py-3 rounded-full font-semibold hover:bg-gray-200 transition duration-300 text-lg">Xem phụ kiện ngay</a>
            </div>
        </section>

        <section id="image-slider-section" class="relative w-full overflow-hidden bg-gray-100 py-4"> <div id="slider-inner" class="flex transition-transform duration-500 ease-in-out">

            <div class="w-full flex-shrink-0 px-4 md:px-8"> <img src="https://w0.peakpx.com/wallpaper/376/633/HD-wallpaper-iphone-16-pro-hi%E1%BB%87u-n%C4%83ng-v%C6%B0%E1%BB%A3t-tr%E1%BB%99i-iphone-16-iphone-apple-ip16.jpg" alt="Banner 1" class="w-full h-auto object-cover rounded-lg shadow-md"> </div>
    
            <div class="w-full flex-shrink-0 px-4 md:px-8"> <img src="https://w0.peakpx.com/wallpaper/82/963/HD-wallpaper-apple-2024-newest-iphone-16-pro-white-titanium.jpg" alt="Banner 2" class="w-full h-auto object-cover rounded-lg shadow-md"> </div>
    
            <div class="w-full flex-shrink-0 px-4 md:px-8"> <img src="https://i0.wp.com/udaipurkiran.com/wp-content/uploads/2024/04/Iphone-15-Pro.webp?resize=840%2C473&ssl=1" alt="Banner 3" class="w-full h-auto object-cover rounded-lg shadow-md"> </div>
    
            <div class="w-full flex-shrink-0 px-4 md:px-8"> <img src="https://cdn.mos.cms.futurecdn.net/yNaYZmPYmwUp6CoTdGJ2GU-1200-80.jpg" alt="Banner 4" class="w-full h-auto object-cover rounded-lg shadow-md"> </div>
    
        </div>
        <button id="slider-prev" class="slider-button prev"><i class="fas fa-chevron-left"></i></button>
        <button id="slider-next" class="slider-button next"><i class="fas fa-chevron-right"></i></button>
        <div id="slider-dots" class="slider-dots"></div>
    </section>

          <section id="products" class="py-16 bg-brand-secondary">
            <div class="container mx-auto px-4 grid grid-cols-1 md:grid-cols-4 gap-8">
        
                <aside class="md:col-span-1 mb-8 md:mb-0">
                    <h3 class="text-xl font-semibold mb-4 text-text-dark">Danh mục</h3>
                    <ul class="space-y-1">
                        <li><a href="#" class="category-link active"><i class="fas fa-tags fa-fw"></i>Tất cả sản phẩm</a></li>
                        <li><a href="https://www.apple.com/vn/home-app/" target="_blank" class="category-link"><i class="fas fa-home fa-fw"></i>Cho Gia đình</a></li>
                        <li><a href="https://www.apple.com/vn/apple-music/" target="_blank" class="category-link"><i class="fas fa-music fa-fw"></i>Cho Âm nhạc</a></li>
                        <li><a href="https://www.icloud.com/" target="_blank" class="category-link"><i class="fas fa-mobile-alt fa-fw"></i>Cho Điện thoại</a></li>
                        <li><a href="https://www.google.com/drive/" target="_blank" class="category-link"><i class="fas fa-hdd fa-fw"></i>Lưu trữ</a></li>
                    </ul>
                    <h3 class="text-xl font-semibold mt-6 mb-4 text-text-dark">Lọc theo</h3>
                      <ul class="space-y-1">
                        <li><a href="https://www.apple.com/vn/apple-events/" target="_blank" class="category-link"><i class="fas fa-star fa-fw"></i>Hàng mới về</a></li>
                        <li><a href="https://www.apple.com/apple-news/" target="_blank" class="category-link"><i class="fas fa-fire fa-fw"></i>Bán chạy</a></li>
                        <li><a href="https://www.apple.com/shop/deals" target="_blank" class="category-link"><i class="fas fa-percent fa-fw"></i>Giảm giá</a></li>
                      </ul>
                </aside>
        
                <div class="md:col-span-3">
                    <h2 class="text-3xl font-heading font-bold text-center md:text-left text-text-dark mb-12">Tất Cả Sản Phẩm</h2>
                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
        
                        <div class="product-card bg-white rounded-lg shadow-md overflow-hidden border flex flex-col"
                             data-id="1"
                             data-name="AirPods Pro (2nd generation)"
                             data-price="5.990.000₫"
                             data-original-price="6.490.000₫"
                             data-image="https://vesinhairpod.com/wp-content/uploads/2022/12/bo-tai-nghe-airpods-pro-2-600x600.png"
                             data-description="Trải nghiệm âm thanh đỉnh cao với chip H2 mới, khử tiếng ồn chủ động gấp đôi, chế độ xuyên âm thích ứng và âm thanh không gian cá nhân hóa."
                             data-specs="Chip: H2\nTính năng: Khử ồn chủ động, Xuyên âm thích ứng, Spatial Audio với Dynamic Head Tracking\nChống nước/mồ hôi: IPX4 (tai nghe và hộp sạc)\nThời lượng pin: Lên đến 6 giờ nghe (30 giờ với hộp sạc)"
                             data-origin="Việt Nam / Trung Quốc"
                             data-colors='[{"name": "Trắng", "code": "#FFFFFF"}]'
                             data-offer="Tặng kèm gói Apple Music 6 tháng"
                             data-related='[10, 16, 18]'
                             data-reviews='[{"author": "Minh Anh", "rating": 5, "comment": "Âm thanh tuyệt vời, khử ồn đỉnh cao!"}, {"author": "Quốc Bảo", "rating": 4, "comment": "Pin tốt, đeo thoải mái."}]'>
                            <button class="wishlist-button" aria-label="Lưu sản phẩm"><i class="far fa-heart"></i></button>
                            <img src="https://vesinhairpod.com/wp-content/uploads/2022/12/bo-tai-nghe-airpods-pro-2-600x600.png" alt="AirPods Pro (2nd generation)" class="w-full h-48 object-cover product-image">
                            <div class="p-6 flex flex-col flex-grow">
                                <h3 class="text-lg font-heading font-semibold text-text-dark mb-2 product-name">AirPods Pro (2nd generation)</h3>
                                <p class="text-text-light mb-2 text-sm product-short-desc">Khử tiếng ồn chủ động...</p>
                                <div class="mb-3 product-colors">
                                    <span class="inline-block w-5 h-5 rounded-full border border-gray-300 mr-1 mb-1" style="background-color: #FFFFFF;" title="Trắng"></span>
                                   </div>
                                    <div class="flex justify-between items-center mb-4">
                                        <span class="text-xl font-bold text-text-dark product-price">5.990.000₫</span>
                                        <span class="original-price text-sm product-original-price">6.490.000₫</span>
                                    </div>
                                    <div class="mt-auto space-y-2">
                                        <button class="add-to-cart-button w-full bg-brand-primary text-white py-2 px-4 rounded-full hover:bg-gray-800 transition duration-300 flex items-center justify-center">
                                            <i class="fas fa-cart-plus mr-2"></i> Thêm vào giỏ
                                        </button>
                                        <button class="buy-now-button w-full bg-white text-brand-primary border border-brand-primary py-2 px-4 rounded-full hover:bg-gray-100 transition duration-300 flex items-center justify-center">
                                            <i class="fas fa-bolt mr-2"></i> Mua Ngay
                                        </button>
                                    </div>
                            </div>
                        </div>
        
                        <div class="product-card bg-white rounded-lg shadow-md overflow-hidden border flex flex-col"
                             data-id="2"
                             data-name="Bộ Sạc MagSafe"
                             data-price="1.190.000₫"
                             data-image="https://cdn.phuckhangmobile.com/image/sac-du-phong-khong-day-29596j.jpg"
                             data-description="Sạc không dây MagSafe giúp sạc nhanh chóng và dễ dàng. Nam châm căn chỉnh hoàn hảo với iPhone 12 trở lên để cung cấp sạc không dây nhanh hơn lên đến 15W."
                             data-specs="Công suất: Lên đến 15W (với bộ đổi nguồn 20W phù hợp)\nTương thích: iPhone 12 series trở lên, AirPods (có hộp sạc không dây/MagSafe)\nKết nối: USB-C (cáp tích hợp)"
                             data-origin="Trung Quốc"
                             data-colors='[{"name": "Trắng", "code": "#FFFFFF"}]'
                             data-offer="Mua kèm củ sạc 20W giá tốt"
                             data-related='[5, 9, 16]'
                             data-reviews='[{"author": "Hà Trang", "rating": 5, "comment": "Sạc tiện lợi, hít chắc chắn."}, {"author": "Văn Đức", "rating": 4, "comment": "Nhỏ gọn, dễ mang theo."}]'>
                            <button class="wishlist-button" aria-label="Lưu sản phẩm"><i class="far fa-heart"></i></button>
                            <img src="https://cdn.phuckhangmobile.com/image/sac-du-phong-khong-day-29596j.jpg" alt="Bộ Sạc MagSafe" class="w-full h-48 object-cover product-image">
                            <div class="p-6 flex flex-col flex-grow">
                                <h3 class="text-lg font-heading font-semibold text-text-dark mb-2 product-name">Bộ Sạc MagSafe</h3>
                                <p class="text-text-light mb-2 text-sm product-short-desc">Sạc không dây tiện lợi...</p>
                                   <div class="mb-3 product-colors">
                                        <span class="inline-block w-5 h-5 rounded-full border border-gray-300 mr-1 mb-1" style="background-color: #FFFFFF;" title="Trắng"></span>
                                   </div>
                                   <div class="flex justify-between items-center mb-4">
                                        <span class="text-xl font-bold text-text-dark product-price">1.190.000₫</span>
                                   </div>
                                    <div class="mt-auto space-y-2">
                                        <button class="add-to-cart-button w-full bg-brand-primary text-white py-2 px-4 rounded-full hover:bg-gray-800 transition duration-300 flex items-center justify-center">
                                            <i class="fas fa-cart-plus mr-2"></i> Thêm vào giỏ
                                        </button>
                                        <button class="buy-now-button w-full bg-white text-brand-primary border border-brand-primary py-2 px-4 rounded-full hover:bg-gray-100 transition duration-300 flex items-center justify-center">
                                            <i class="fas fa-bolt mr-2"></i> Mua Ngay
                                        </button>
                                    </div>
                            </div>
                        </div>
        
                        <div class="product-card bg-white rounded-lg shadow-md overflow-hidden border flex flex-col"
                             data-id="3"
                             data-name="Ốp Lưng Silicone cho iPhone 15 Pro (MagSafe)"
                             data-price="1.290.000₫"
                             data-image="https://bengo.vn/media/catalog/product/cache/380158bbd1b1fc698d1d97b2569b5e69/o/p/op-lung-iphone-15-pro-max-ringke-silicone-magnetic-bengo-01_1.jpg"
                             data-description="Ốp lưng Silicone với MagSafe được Apple thiết kế để bảo vệ iPhone của bạn một cách thời trang. Bên ngoài mượt mà, mềm mại khi chạm vào. Bên trong có lớp lót sợi nhỏ mềm mại."
                             data-specs="Chất liệu: Silicone, lót sợi nhỏ\nTương thích: iPhone 15 Pro\nTính năng: Tích hợp MagSafe"
                             data-origin="Trung Quốc"
                             data-colors='[{"name": "Hồng Phấn", "code":"#FFC0CB"}, {"name": "Xanh Dương Nhạt", "code":"#ADD8E6"}, {"name": "Xanh Lá Nhạt", "code":"#90EE90"}, {"name": "Vàng", "code":"#FFD700"}, {"name": "Đen", "code":"#000000"}]'
                             data-offer="Giảm 10% cho đơn hàng đầu tiên"
                             data-related='[11, 15, 19]'
                              data-reviews='[{"author": "Phương Vy", "rating": 5, "comment": "Ốp đẹp, màu xinh, cầm thích tay."}, {"author": "Gia Huy", "rating": 5, "comment": "Chất lượng tốt, đúng hàng Apple."}]'>
                            <button class="wishlist-button" aria-label="Lưu sản phẩm"><i class="far fa-heart"></i></button>
                            <img src="https://bengo.vn/media/catalog/product/cache/380158bbd1b1fc698d1d97b2569b5e69/o/p/op-lung-iphone-15-pro-max-ringke-silicone-magnetic-bengo-01_1.jpg" alt="Ốp Lưng Silicone cho iPhone 15 Pro (MagSafe)" class="w-full h-48 object-cover product-image">
                            <div class="p-6 flex flex-col flex-grow">
                                <h3 class="text-lg font-heading font-semibold text-text-dark mb-2 product-name">Ốp Lưng Silicone cho iPhone 15 Pro</h3>
                                <p class="text-text-light mb-2 text-sm product-short-desc">Bảo vệ hoàn hảo...</p>
                                <div class="mb-3 product-colors">
                                    <span class="inline-block w-5 h-5 rounded-full border border-gray-300 mr-1 mb-1" style="background-color: #FFC0CB;" title="Hồng Phấn"></span>
                                    <span class="inline-block w-5 h-5 rounded-full border border-gray-300 mr-1 mb-1" style="background-color: #ADD8E6;" title="Xanh Dương Nhạt"></span>
                                    <span class="inline-block w-5 h-5 rounded-full border border-gray-300 mr-1 mb-1" style="background-color: #90EE90;" title="Xanh Lá Nhạt"></span>
                                    <span class="inline-block w-5 h-5 rounded-full border border-gray-300 mr-1 mb-1" style="background-color: #FFD700;" title="Vàng"></span>
                                    <span class="inline-block w-5 h-5 rounded-full border border-gray-300 mr-1 mb-1" style="background-color: #000000;" title="Đen"></span>
                                   </div>
                                <div class="flex justify-between items-center mb-4">
                                    <span class="text-xl font-bold text-text-dark product-price">1.290.000₫</span>
                                </div>
                                 <div class="mt-auto space-y-2">
                                    <button class="add-to-cart-button w-full bg-brand-primary text-white py-2 px-4 rounded-full hover:bg-gray-800 transition duration-300 flex items-center justify-center">
                                        <i class="fas fa-cart-plus mr-2"></i> Thêm vào giỏ
                                    </button>
                                    <button class="buy-now-button w-full bg-white text-brand-primary border border-brand-primary py-2 px-4 rounded-full hover:bg-gray-100 transition duration-300 flex items-center justify-center">
                                        <i class="fas fa-bolt mr-2"></i> Mua Ngay
                                    </button>
                                 </div>
                            </div>
                        </div>
        
                        <div class="product-card bg-white rounded-lg shadow-md overflow-hidden border flex flex-col"
                             data-id="4"
                             data-name="Dây Đeo Sport Band cho Apple Watch (45mm)"
                             data-price="1.190.000₫"
                             data-image="https://shopdunk.com/images/thumbs/0003895_day-deo-watch-41mm-sport-band-regular-chinh-hang-apple_550.jpeg"
                             data-description="Dây đeo Sport Band được làm từ fluoroelastomer hiệu suất cao tùy chỉnh, bền chắc nhưng lại mềm mại đáng ngạc nhiên. Vật liệu mịn, dày đặc bao bọc thanh lịch trên cổ tay của bạn và tạo cảm giác thoải mái bên cạnh làn da của bạn."
                             data-specs="Chất liệu: Fluoroelastomer\nCỡ cổ tay: (Tùy chọn S/M hoặc M/L)\nTương thích: Apple Watch cỡ 42mm, 44mm, 45mm, 49mm"
                             data-origin="Trung Quốc"
                             data-colors='[{"name": "Trắng", "code":"#FFFFFF"}, {"name": "Đen", "code":"#000000"}, {"name": "Đỏ", "code":"#FF0000"}, {"name": "Xanh Dương", "code":"#0000FF"}, {"name": "Xanh Lá", "code":"#008000"}]'
                             data-offer="Miễn phí vận chuyển"
                             data-related='[12, 20]'
                             data-reviews='[{"author": "Ngọc Linh", "rating": 5, "comment": "Dây mềm, đeo êm tay."}, {"author": "Thành Đạt", "rating": 4, "comment": "Màu đẹp, dễ thay."}]'>
                            <button class="wishlist-button" aria-label="Lưu sản phẩm"><i class="far fa-heart"></i></button>
                            <img src="https://shopdunk.com/images/thumbs/0003895_day-deo-watch-41mm-sport-band-regular-chinh-hang-apple_550.jpeg" alt="Dây Đeo Sport Band cho Apple Watch (45mm)" class="w-full h-48 object-cover product-image">
                            <div class="p-6 flex flex-col flex-grow">
                                <h3 class="text-lg font-heading font-semibold text-text-dark mb-2 product-name">Dây Đeo Sport Band cho Apple Watch</h3>
                                <p class="text-text-light mb-2 text-sm product-short-desc">Thoải mái, bền bỉ...</p>
                                <div class="mb-3 product-colors">
                                    <span class="inline-block w-5 h-5 rounded-full border border-gray-300 mr-1 mb-1" style="background-color: #FFFFFF;" title="Trắng"></span>
                                    <span class="inline-block w-5 h-5 rounded-full border border-gray-300 mr-1 mb-1" style="background-color: #000000;" title="Đen"></span>
                                    <span class="inline-block w-5 h-5 rounded-full border border-gray-300 mr-1 mb-1" style="background-color: #FF0000;" title="Đỏ"></span>
                                    <span class="inline-block w-5 h-5 rounded-full border border-gray-300 mr-1 mb-1" style="background-color: #0000FF;" title="Xanh Dương"></span>
                                    <span class="inline-block w-5 h-5 rounded-full border border-gray-300 mr-1 mb-1" style="background-color: #008000;" title="Xanh Lá"></span>
                                   </div>
                                    <div class="flex justify-between items-center mb-4">
                                        <span class="text-xl font-bold text-text-dark product-price">1.190.000₫</span>
                                    </div>
                                    <div class="mt-auto space-y-2">
                                        <button class="add-to-cart-button w-full bg-brand-primary text-white py-2 px-4 rounded-full hover:bg-gray-800 transition duration-300 flex items-center justify-center">
                                            <i class="fas fa-cart-plus mr-2"></i> Thêm vào giỏ
                                        </button>
                                        <button class="buy-now-button w-full bg-white text-brand-primary border border-brand-primary py-2 px-4 rounded-full hover:bg-gray-100 transition duration-300 flex items-center justify-center">
                                            <i class="fas fa-bolt mr-2"></i> Mua Ngay
                                        </button>
                                    </div>
                            </div>
                        </div>
        
                        <div class="product-card bg-white rounded-lg shadow-md overflow-hidden border flex flex-col"
                             data-id="5"
                             data-name="Củ Sạc Apple 20W USB-C Power Adapter"
                             data-price="550.000₫"
                             data-original-price="690.000₫"
                             data-image="https://taogiare.vn/wp-content/uploads/2019/01/cu-sac-nhanh-iphone-20w-chinh-hang2.jpg"
                             data-description="Bộ Tiếp Hợp Nguồn USB-C 20W của Apple cho phép sạc nhanh và hiệu quả tại nhà, trong văn phòng hoặc khi đang di chuyển."
                             data-specs="Công suất: 20W\nCổng ra: USB-C\nTương thích: iPhone, iPad, Apple Watch, AirPods hỗ trợ sạc USB-C"
                             data-origin="Trung Quốc"
                             data-colors='[{"name": "Trắng", "code": "#FFFFFF"}]'
                             data-offer="Bảo hành 12 tháng"
                             data-related='[2, 9, 13]'
                             data-reviews='[{"author": "Tiến Minh", "rating": 5, "comment": "Sạc nhanh chuẩn."}, {"author": "Thu Thảo", "rating": 5, "comment": "Nhỏ gọn, chính hãng."}]'>
                             <button class="wishlist-button" aria-label="Lưu sản phẩm"><i class="far fa-heart"></i></button>
                             <img src="https://taogiare.vn/wp-content/uploads/2019/01/cu-sac-nhanh-iphone-20w-chinh-hang2.jpg" alt="Củ Sạc Apple 20W USB-C Power Adapter" class="w-full h-48 object-cover product-image">
                             <div class="p-6 flex flex-col flex-grow">
                                   <h3 class="text-lg font-heading font-semibold text-text-dark mb-2 product-name">Củ Sạc Apple 20W USB-C</h3>
                                   <p class="text-text-light mb-2 text-sm product-short-desc">Sạc nhanh chính hãng...</p>
                                   <div class="mb-3 product-colors">
                                        <span class="inline-block w-5 h-5 rounded-full border border-gray-300 mr-1 mb-1" style="background-color: #FFFFFF;" title="Trắng"></span>
                                   </div>
                                   <div class="flex justify-between items-center mb-4">
                                        <span class="text-xl font-bold text-text-dark product-price">550.000₫</span>
                                        <span class="original-price text-sm product-original-price">690.000₫</span>
                                   </div>
                                    <div class="mt-auto space-y-2">
                                        <button class="add-to-cart-button w-full bg-brand-primary text-white py-2 px-4 rounded-full hover:bg-gray-800 transition duration-300 flex items-center justify-center">
                                            <i class="fas fa-cart-plus mr-2"></i> Thêm vào giỏ
                                        </button>
                                        <button class="buy-now-button w-full bg-white text-brand-primary border border-brand-primary py-2 px-4 rounded-full hover:bg-gray-100 transition duration-300 flex items-center justify-center">
                                            <i class="fas fa-bolt mr-2"></i> Mua Ngay
                                        </button>
                                    </div>
                             </div>
                        </div>
        
                        <div class="product-card bg-white rounded-lg shadow-md overflow-hidden border flex flex-col"
                             data-id="6"
                             data-name="Apple Pencil (USB-C)"
                             data-price="2.190.000₫"
                             data-image="https://www.apple.com/newsroom/images/2023/11/the-new-more-affordable-apple-pencil-is-now-available-to-order/tile/Apple-Pencil-USB-C-sliding-cap.jpg.landing-big_2x.jpg"
                             data-description="Apple Pencil (USB-C) hoàn hảo để ghi chú, phác thảo, chú thích tài liệu, ghi nhật ký, v.v. Nó mang lại độ chính xác hoàn hảo đến từng điểm ảnh, độ trễ thấp và độ nhạy nghiêng."
                             data-specs="Kết nối: USB-C (để sạc và ghép nối)\nTương thích: Các mẫu iPad có cổng USB-C\nTính năng: Chính xác, độ trễ thấp, nhạy cảm với độ nghiêng, gắn từ tính"
                             data-origin="Trung Quốc"
                             data-colors='[{"name": "Trắng", "code": "#FFFFFF"}]'
                             data-offer=""
                             data-related='[7, 14, 15]'
                             data-reviews='[{"author": "Designer Pro", "rating": 4, "comment": "Giá tốt, dùng ổn cho ghi chú."}, {"author": "Sinh Viên", "rating": 5, "comment": "Must-have cho iPad!"}]'>
                              <button class="wishlist-button" aria-label="Lưu sản phẩm"><i class="far fa-heart"></i></button>
                              <img src="https://www.apple.com/newsroom/images/2023/11/the-new-more-affordable-apple-pencil-is-now-available-to-order/tile/Apple-Pencil-USB-C-sliding-cap.jpg.landing-big_2x.jpg" alt="Apple Pencil (USB-C)" class="w-full h-48 object-cover product-image">
                              <div class="p-6 flex flex-col flex-grow">
                                    <h3 class="text-lg font-heading font-semibold text-text-dark mb-2 product-name">Apple Pencil (USB-C)</h3>
                                    <p class="text-text-light mb-2 text-sm product-short-desc">Công cụ sáng tạo lý tưởng...</p>
                                    <div class="mb-3 product-colors">
                                         <span class="inline-block w-5 h-5 rounded-full border border-gray-300 mr-1 mb-1" style="background-color: #FFFFFF;" title="Trắng"></span>
                                    </div>
                                    <div class="flex justify-between items-center mb-4">
                                         <span class="text-xl font-bold text-text-dark product-price">2.190.000₫</span>
                                    </div>
                                     <div class="mt-auto space-y-2">
                                        <button class="add-to-cart-button w-full bg-brand-primary text-white py-2 px-4 rounded-full hover:bg-gray-800 transition duration-300 flex items-center justify-center">
                                            <i class="fas fa-cart-plus mr-2"></i> Thêm vào giỏ
                                        </button>
                                        <button class="buy-now-button w-full bg-white text-brand-primary border border-brand-primary py-2 px-4 rounded-full hover:bg-gray-100 transition duration-300 flex items-center justify-center">
                                            <i class="fas fa-bolt mr-2"></i> Mua Ngay
                                        </button>
                                     </div>
                              </div>
                         </div>
        
                        <div class="product-card bg-white rounded-lg shadow-md overflow-hidden border flex flex-col"
                              data-id="7" data-name="Magic Keyboard cho iPad Pro 11 inch" data-price="7.990.000₫"
                              data-image="https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/MWR03_AV3?wid=1144&hei=1144&fmt=jpeg&qlt=90&.v=1713907979394"
                              data-description="Magic Keyboard là bạn đồng hành tuyệt vời cho iPad Pro và iPad Air. Nó có trải nghiệm gõ đáng kinh ngạc, bàn di chuột mở ra những cách làm việc mới với iPadOS, cổng USB-C để sạc qua, các phím có đèn nền và bảo vệ mặt trước và mặt sau."
                              data-specs="Bố cục: (Theo ngôn ngữ)\nTính năng: Trackpad, phím đèn nền, cổng sạc USB-C\nTương thích: iPad Pro 11 inch (M4), iPad Air 11 inch (M2)"
                              data-origin="Trung Quốc" data-colors='[{"name": "Trắng", "code":"#FFFFFF"}, {"name": "Đen", "code":"#000000"}]'
                              data-offer="Trả góp 0%" data-related='[6, 14]'
                              data-reviews='[{"author": "Doanh Nhân", "rating": 5, "comment": "Biến iPad thành laptop thực thụ."}, {"author": "Content Creator", "rating": 4, "comment": "Hơi nặng nhưng gõ sướng."}]'>
                              <button class="wishlist-button" aria-label="Lưu sản phẩm"><i class="far fa-heart"></i></button>
                              <img src="https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/MWR03_AV3?wid=1144&hei=1144&fmt=jpeg&qlt=90&.v=1713907979394" alt="Magic Keyboard cho iPad Pro 11 inch" class="w-full h-48 object-cover product-image">
                              <div class="p-6 flex flex-col flex-grow">
                                    <h3 class="text-lg font-heading font-semibold text-text-dark mb-2 product-name">Magic Keyboard cho iPad Pro 11</h3>
                                    <p class="text-text-light mb-2 text-sm product-short-desc">Trải nghiệm gõ phím...</p>
                                    <div class="mb-3 product-colors">
                                          <span class="inline-block w-5 h-5 rounded-full border border-gray-300 mr-1 mb-1" style="background-color: #FFFFFF;" title="Trắng"></span>
                                          <span class="inline-block w-5 h-5 rounded-full border border-gray-300 mr-1 mb-1" style="background-color: #000000;" title="Đen"></span>
                                     </div>
                                    <div class="flex justify-between items-center mb-4"> <span class="text-xl font-bold text-text-dark product-price">7.990.000₫</span> </div>
                                     <div class="mt-auto space-y-2">
                                        <button class="add-to-cart-button w-full bg-brand-primary text-white py-2 px-4 rounded-full hover:bg-gray-800 transition duration-300 flex items-center justify-center"> <i class="fas fa-cart-plus mr-2"></i> Thêm vào giỏ </button>
                                        <button class="buy-now-button w-full bg-white text-brand-primary border border-brand-primary py-2 px-4 rounded-full hover:bg-gray-100 transition duration-300 flex items-center justify-center"> <i class="fas fa-bolt mr-2"></i> Mua Ngay </button>
                                     </div>
                              </div>
                         </div>
        
                        <div class="product-card bg-white rounded-lg shadow-md overflow-hidden border flex flex-col"
                             data-id="8"
                             data-name="iPhone 15"
                             data-price="21.490.000₫"
                             data-original-price="22.990.000₫"
                             data-image="https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/iphone-15-finish-select-202309-6-1inch-blue?wid=2560&hei=1440&fmt=p-jpg&qlt=80&.v=1692923777972"
                             data-description="iPhone 15 với Dynamic Island, camera Chính 48MP tiên tiến, chip A16 Bionic mạnh mẽ và cổng kết nối USB-C tiện lợi."
                             data-specs="Chip: A16 Bionic\nMàn hình: 6.1 inch Super Retina XDR\nCamera: Chính 48MP, Ultra Wide 12MP\nPin: Thời lượng pin cả ngày\nKết nối: USB-C"
                             data-origin="Trung Quốc / Ấn Độ"
                             data-colors='[{"name": "Đen", "code": "#3C3C3C"}, {"name": "Xanh Dương", "code": "#ADD8E6"}, {"name": "Xanh Lá", "code": "#90EE90"}, {"name": "Vàng", "code": "#FFFFE0"}, {"name": "Hồng", "code": "#FFC0CB"}]'
                             data-offer="Giảm giá đặc biệt"
                             data-related='[3, 5, 9]'
                             data-reviews='[{"author": "An Nhiên", "rating": 5, "comment": "Camera chụp đẹp, Dynamic Island tiện lợi."}, {"author": "Bảo Long", "rating": 4, "comment": "Pin ổn, cổng C là nâng cấp đáng giá."}]'>
                            <button class="wishlist-button" aria-label="Lưu sản phẩm"><i class="far fa-heart"></i></button>
                            <img src="https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/iphone-15-finish-select-202309-6-1inch-blue?wid=2560&hei=1440&fmt=p-jpg&qlt=80&.v=1692923777972" alt="iPhone 15" class="w-full h-48 object-cover product-image">
                            <div class="p-6 flex flex-col flex-grow">
                                <h3 class="text-lg font-heading font-semibold text-text-dark mb-2 product-name">iPhone 15</h3>
                                <p class="text-text-light mb-2 text-sm product-short-desc">Dynamic Island, camera 48MP...</p>
                                <div class="mb-3 product-colors">
                                     <span class="inline-block w-5 h-5 rounded-full border border-gray-300 mr-1 mb-1" style="background-color: #3C3C3C;" title="Đen"></span>
                                     <span class="inline-block w-5 h-5 rounded-full border border-gray-300 mr-1 mb-1" style="background-color: #ADD8E6;" title="Xanh Dương"></span>
                                     <span class="inline-block w-5 h-5 rounded-full border border-gray-300 mr-1 mb-1" style="background-color: #90EE90;" title="Xanh Lá"></span>
                                     <span class="inline-block w-5 h-5 rounded-full border border-gray-300 mr-1 mb-1" style="background-color: #FFFFE0;" title="Vàng"></span>
                                     <span class="inline-block w-5 h-5 rounded-full border border-gray-300 mr-1 mb-1" style="background-color: #FFC0CB;" title="Hồng"></span>
                                </div>
                                 <div class="flex justify-between items-center mb-4">
                                     <span class="text-xl font-bold text-text-dark product-price">21.490.000₫</span>
                                     <span class="original-price text-sm product-original-price">22.990.000₫</span>
                                 </div>
                                 <div class="mt-auto space-y-2">
                                     <button class="add-to-cart-button w-full bg-brand-primary text-white py-2 px-4 rounded-full hover:bg-gray-800 transition duration-300 flex items-center justify-center"> <i class="fas fa-cart-plus mr-2"></i> Thêm vào giỏ </button>
                                     <button class="buy-now-button w-full bg-white text-brand-primary border border-brand-primary py-2 px-4 rounded-full hover:bg-gray-100 transition duration-300 flex items-center justify-center"> <i class="fas fa-bolt mr-2"></i> Mua Ngay </button>
                                 </div>
                            </div>
                        </div>
        
                        <div class="product-card bg-white rounded-lg shadow-md overflow-hidden border flex flex-col"
                             data-id="9"
                             data-name="iPhone 15 Plus"
                             data-price="24.490.000₫"
                             data-original-price="25.990.000₫"
                             data-image="https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/iphone-15-finish-select-202309-6-7inch-pink?wid=2560&hei=1440&fmt=p-jpg&qlt=80&.v=1692923782991"
                             data-description="Màn hình lớn hơn, pin trâu hơn với iPhone 15 Plus. Cũng sở hữu Dynamic Island, camera 48MP, chip A16 Bionic và USB-C."
                             data-specs="Chip: A16 Bionic\nMàn hình: 6.7 inch Super Retina XDR\nCamera: Chính 48MP, Ultra Wide 12MP\nPin: Thời lượng pin tốt nhất trên iPhone\nKết nối: USB-C"
                             data-origin="Trung Quốc / Ấn Độ"
                             data-colors='[{"name": "Đen", "code": "#3C3C3C"}, {"name": "Xanh Dương", "code": "#ADD8E6"}, {"name": "Xanh Lá", "code": "#90EE90"}, {"name": "Vàng", "code": "#FFFFE0"}, {"name": "Hồng", "code": "#FFC0CB"}]'
                             data-offer="Trả góp 0%"
                             data-related='[3, 5, 8]'
                             data-reviews='[{"author": "Khánh Vy", "rating": 5, "comment": "Màn hình to xem phim sướng, pin cực trâu."}, {"author": "Đức Anh", "rating": 5, "comment": "Lựa chọn tuyệt vời nếu thích màn hình lớn."}]'>
                            <button class="wishlist-button" aria-label="Lưu sản phẩm"><i class="far fa-heart"></i></button>
                            <img src="https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/iphone-15-finish-select-202309-6-7inch-pink?wid=2560&hei=1440&fmt=p-jpg&qlt=80&.v=1692923782991" alt="iPhone 15 Plus" class="w-full h-48 object-cover product-image">
                            <div class="p-6 flex flex-col flex-grow">
                                <h3 class="text-lg font-heading font-semibold text-text-dark mb-2 product-name">iPhone 15 Plus</h3>
                                <p class="text-text-light mb-2 text-sm product-short-desc">Màn hình lớn 6.7 inch...</p>
                                <div class="mb-3 product-colors">
                                      <span class="inline-block w-5 h-5 rounded-full border border-gray-300 mr-1 mb-1" style="background-color: #3C3C3C;" title="Đen"></span>
                                      <span class="inline-block w-5 h-5 rounded-full border border-gray-300 mr-1 mb-1" style="background-color: #ADD8E6;" title="Xanh Dương"></span>
                                      <span class="inline-block w-5 h-5 rounded-full border border-gray-300 mr-1 mb-1" style="background-color: #90EE90;" title="Xanh Lá"></span>
                                      <span class="inline-block w-5 h-5 rounded-full border border-gray-300 mr-1 mb-1" style="background-color: #FFFFE0;" title="Vàng"></span>
                                      <span class="inline-block w-5 h-5 rounded-full border border-gray-300 mr-1 mb-1" style="background-color: #FFC0CB;" title="Hồng"></span>
                                </div>
                                <div class="flex justify-between items-center mb-4">
                                    <span class="text-xl font-bold text-text-dark product-price">24.490.000₫</span>
                                    <span class="original-price text-sm product-original-price">25.990.000₫</span>
                                </div>
                                <div class="mt-auto space-y-2">
                                    <button class="add-to-cart-button w-full bg-brand-primary text-white py-2 px-4 rounded-full hover:bg-gray-800 transition duration-300 flex items-center justify-center"> <i class="fas fa-cart-plus mr-2"></i> Thêm vào giỏ </button>
                                    <button class="buy-now-button w-full bg-white text-brand-primary border border-brand-primary py-2 px-4 rounded-full hover:bg-gray-100 transition duration-300 flex items-center justify-center"> <i class="fas fa-bolt mr-2"></i> Mua Ngay </button>
                                </div>
                            </div>
                        </div>
        
                        <div class="product-card bg-white rounded-lg shadow-md overflow-hidden border flex flex-col"
                             data-id="10"
                             data-name="MacBook Air 13 inch (M3)"
                             data-price="27.990.000₫"
                             data-image="https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/mba13-skyblue-select-202503?wid=904&hei=840&fmt=jpeg&qlt=90&.v=1741885365897"
                             data-description="MacBook Air M3 siêu di động, siêu mạnh mẽ. Chip M3 mang lại hiệu năng vượt trội cho công việc và giải trí, thời lượng pin lên đến 18 giờ."
                             data-specs="Chip: Apple M3\nRAM: 8GB (có thể nâng cấp)\nỔ cứng: 256GB SSD (có thể nâng cấp)\nMàn hình: 13.6 inch Liquid Retina\nPin: Lên đến 18 giờ"
                             data-origin="Trung Quốc"
                             data-colors='[{"name": "Bạc", "code":"#C0C0C0"}, {"name": "Xám Không Gian", "code":"#808080"}, {"name": "Vàng Ánh Sao", "code":"#F5F5DC"}, {"name": "Xanh Đen", "code":"#2F4F4F"}]'
                             data-offer="Hỗ trợ thu cũ đổi mới"
                             data-related='[1, 5, 11]'
                             data-reviews='[{"author": "Lập Trình Viên", "rating": 5, "comment": "Nhỏ gọn, mạnh, pin trâu, quá đủ cho code."}, {"author": "Sinh Viên", "rating": 5, "comment": "Máy quốc dân là đây!"}]'>
                            <button class="wishlist-button" aria-label="Lưu sản phẩm"><i class="far fa-heart"></i></button>
                            <img src="https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/mba13-skyblue-select-202503?wid=904&hei=840&fmt=jpeg&qlt=90&.v=1741885365897" alt="MacBook Air 13 inch (M3)" class="w-full h-48 object-cover product-image">
                            <div class="p-6 flex flex-col flex-grow">
                                <h3 class="text-lg font-heading font-semibold text-text-dark mb-2 product-name">MacBook Air 13 inch (M3)</h3>
                                <p class="text-text-light mb-2 text-sm product-short-desc">Chip M3, siêu di động...</p>
                                <div class="mb-3 product-colors">
                                    <span class="inline-block w-5 h-5 rounded-full border border-gray-300 mr-1 mb-1" style="background-color: #C0C0C0;" title="Bạc"></span>
                                    <span class="inline-block w-5 h-5 rounded-full border border-gray-300 mr-1 mb-1" style="background-color: #808080;" title="Xám Không Gian"></span>
                                    <span class="inline-block w-5 h-5 rounded-full border border-gray-300 mr-1 mb-1" style="background-color: #F5F5DC;" title="Vàng Ánh Sao"></span>
                                    <span class="inline-block w-5 h-5 rounded-full border border-gray-300 mr-1 mb-1" style="background-color: #2F4F4F;" title="Xanh Đen"></span>
                                </div>
                                <div class="flex justify-between items-center mb-4">
                                    <span class="text-xl font-bold text-text-dark product-price">27.990.000₫</span>
                                </div>
                                <div class="mt-auto space-y-2">
                                    <button class="add-to-cart-button w-full bg-brand-primary text-white py-2 px-4 rounded-full hover:bg-gray-800 transition duration-300 flex items-center justify-center"> <i class="fas fa-cart-plus mr-2"></i> Thêm vào giỏ </button>
                                    <button class="buy-now-button w-full bg-white text-brand-primary border border-brand-primary py-2 px-4 rounded-full hover:bg-gray-100 transition duration-300 flex items-center justify-center"> <i class="fas fa-bolt mr-2"></i> Mua Ngay </button>
                                </div>
                            </div>
                        </div>
        
                        <div class="product-card bg-white rounded-lg shadow-md overflow-hidden border flex flex-col"
                             data-id="11"
                             data-name="MacBook Pro 14 inch (M3 Pro)"
                             data-price="49.990.000₫"
                             data-image="https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/mbp14-m3-max-pro-spaceblack-select-202310?wid=904&hei=840&fmt=jpeg&qlt=90&.v=1697230830118"
                             data-description="MacBook Pro 14 inch với chip M3 Pro/Max mang đến hiệu năng đỉnh cao cho các tác vụ chuyên nghiệp. Màn hình Liquid Retina XDR tuyệt đẹp, hệ thống âm thanh hàng đầu."
                             data-specs="Chip: Apple M3 Pro (tùy chọn M3 Max)\nRAM: 18GB (có thể nâng cấp)\nỔ cứng: 512GB SSD (có thể nâng cấp)\nMàn hình: 14.2 inch Liquid Retina XDR\nPin: Lên đến 18 giờ"
                             data-origin="Trung Quốc"
                             data-colors='[{"name": "Bạc", "code":"#C0C0C0"}, {"name": "Đen Không Gian", "code":"#3B3B3B"}]'
                             data-offer="Trả góp 0% qua thẻ tín dụng"
                             data-related='[10, 17]'
                             data-reviews='[{"author": "Video Editor", "rating": 5, "comment": "Render video cực nhanh, màn hình quá đẹp."}, {"author": "Developer", "rating": 5, "comment": "Máy mạnh, build chắc chắn."}]'>
                            <button class="wishlist-button" aria-label="Lưu sản phẩm"><i class="far fa-heart"></i></button>
                            <img src="https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/mbp14-m3-max-pro-spaceblack-select-202310?wid=904&hei=840&fmt=jpeg&qlt=90&.v=1697230830118" alt="MacBook Pro 14 inch (M3 Pro)" class="w-full h-48 object-cover product-image">
                            <div class="p-6 flex flex-col flex-grow">
                                <h3 class="text-lg font-heading font-semibold text-text-dark mb-2 product-name">MacBook Pro 14 inch (M3 Pro)</h3>
                                <p class="text-text-light mb-2 text-sm product-short-desc">Hiệu năng chuyên nghiệp...</p>
                                <div class="mb-3 product-colors">
                                    <span class="inline-block w-5 h-5 rounded-full border border-gray-300 mr-1 mb-1" style="background-color: #C0C0C0;" title="Bạc"></span>
                                    <span class="inline-block w-5 h-5 rounded-full border border-gray-300 mr-1 mb-1" style="background-color: #3B3B3B;" title="Đen Không Gian"></span>
                                </div>
                                <div class="flex justify-between items-center mb-4">
                                    <span class="text-xl font-bold text-text-dark product-price">49.990.000₫</span>
                                </div>
                                <div class="mt-auto space-y-2">
                                    <button class="add-to-cart-button w-full bg-brand-primary text-white py-2 px-4 rounded-full hover:bg-gray-800 transition duration-300 flex items-center justify-center"> <i class="fas fa-cart-plus mr-2"></i> Thêm vào giỏ </button>
                                    <button class="buy-now-button w-full bg-white text-brand-primary border border-brand-primary py-2 px-4 rounded-full hover:bg-gray-100 transition duration-300 flex items-center justify-center"> <i class="fas fa-bolt mr-2"></i> Mua Ngay </button>
                                </div>
                            </div>
                        </div>
        
                        <div class="product-card bg-white rounded-lg shadow-md overflow-hidden border flex flex-col"
                             data-id="12"
                             data-name="iPad Air 13 inch (M2)"
                             data-price="19.990.000₫"
                             data-image="https://product.hstatic.net/200000409445/product/10_208aa2f50c70410290d461658cf9ec1d_master.jpg"
                             data-description="iPad Air M2 mới với màn hình Liquid Retina 13 inch lớn hơn, chip M2 mạnh mẽ, hỗ trợ Apple Pencil Pro và Magic Keyboard. Camera trước ở cạnh ngang."
                             data-specs="Chip: Apple M2\nMàn hình: 13 inch Liquid Retina\nCamera: Wide 12MP (sau), Ultra Wide 12MP (trước)\nTương thích: Apple Pencil Pro, Magic Keyboard\nKết nối: USB-C"
                             data-origin="Trung Quốc"
                             data-colors='[{"name": "Xám Không Gian", "code":"#808080"}, {"name": "Vàng Ánh Sao", "code":"#F5F5DC"}, {"name": "Xanh Dương", "code":"#ADD8E6"}, {"name": "Tím", "code":"#E6E6FA"}]'
                             data-offer="Tặng kèm dán màn hình"
                             data-related='[6, 7, 14]'
                             data-reviews='[{"author": "Artist", "rating": 5, "comment": "Màn hình lớn vẽ đã tay, chip M2 quá mượt."}, {"author": "Học Sinh", "rating": 4, "comment": "Giá hợp lý hơn Pro, đủ dùng cho học tập."}]'>
                            <button class="wishlist-button" aria-label="Lưu sản phẩm"><i class="far fa-heart"></i></button>
                            <img src="https://product.hstatic.net/200000409445/product/10_208aa2f50c70410290d461658cf9ec1d_master.jpg" alt="iPad Air 13 inch (M2)" class="w-full h-48 object-cover product-image">
                            <div class="p-6 flex flex-col flex-grow">
                                <h3 class="text-lg font-heading font-semibold text-text-dark mb-2 product-name">iPad Air 13 inch (M2)</h3>
                                <p class="text-text-light mb-2 text-sm product-short-desc">Màn hình 13 inch, chip M2...</p>
                                <div class="mb-3 product-colors">
                                     <span class="inline-block w-5 h-5 rounded-full border border-gray-300 mr-1 mb-1" style="background-color: #808080;" title="Xám Không Gian"></span>
                                     <span class="inline-block w-5 h-5 rounded-full border border-gray-300 mr-1 mb-1" style="background-color: #F5F5DC;" title="Vàng Ánh Sao"></span>
                                     <span class="inline-block w-5 h-5 rounded-full border border-gray-300 mr-1 mb-1" style="background-color: #ADD8E6;" title="Xanh Dương"></span>
                                     <span class="inline-block w-5 h-5 rounded-full border border-gray-300 mr-1 mb-1" style="background-color: #E6E6FA;" title="Tím"></span>
                                </div>
                                <div class="flex justify-between items-center mb-4">
                                    <span class="text-xl font-bold text-text-dark product-price">19.990.000₫</span>
                                </div>
                                <div class="mt-auto space-y-2">
                                    <button class="add-to-cart-button w-full bg-brand-primary text-white py-2 px-4 rounded-full hover:bg-gray-800 transition duration-300 flex items-center justify-center"> <i class="fas fa-cart-plus mr-2"></i> Thêm vào giỏ </button>
                                    <button class="buy-now-button w-full bg-white text-brand-primary border border-brand-primary py-2 px-4 rounded-full hover:bg-gray-100 transition duration-300 flex items-center justify-center"> <i class="fas fa-bolt mr-2"></i> Mua Ngay </button>
                                </div>
                            </div>
                        </div>
        
                         <div class="product-card bg-white rounded-lg shadow-md overflow-hidden border flex flex-col"
                             data-id="13"
                             data-name="iPad (10th generation)"
                             data-price="9.490.000₫"
                             data-original-price="10.990.000₫"
                             data-image="https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/ipad-10th-gen-finish-select-202212-yellow?wid=2560&hei=1440&fmt=p-jpg&qlt=80&.v=1667592096148"
                             data-description="iPad thế hệ 10 đầy màu sắc với màn hình Liquid Retina 10.9 inch, chip A14 Bionic, hỗ trợ Apple Pencil (USB-C hoặc thế hệ 1 với adapter), và Magic Keyboard Folio."
                             data-specs="Chip: A14 Bionic\nMàn hình: 10.9 inch Liquid Retina\nCamera: Wide 12MP (sau), Ultra Wide 12MP (trước)\nTương thích: Apple Pencil (USB-C / Gen 1), Magic Keyboard Folio\nKết nối: USB-C"
                             data-origin="Trung Quốc"
                             data-colors='[{"name": "Bạc", "code":"#C0C0C0"}, {"name": "Xanh Dương", "code":"#ADD8E6"}, {"name": "Vàng", "code":"#FFFFE0"}, {"name": "Hồng", "code":"#FFC0CB"}]'
                             data-offer="Giảm giá sâu"
                             data-related='[6, 16]'
                             data-reviews='[{"author": "Phụ Huynh", "rating": 5, "comment": "Mua cho con học online rất tốt, giá hợp lý."}, {"author": "Người dùng cơ bản", "rating": 4, "comment": "Đủ dùng cho giải trí, lướt web."}]'>
                            <button class="wishlist-button" aria-label="Lưu sản phẩm"><i class="far fa-heart"></i></button>
                            <img src="https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/ipad-10th-gen-finish-select-202212-yellow?wid=2560&hei=1440&fmt=p-jpg&qlt=80&.v=1667592096148" alt="iPad (10th generation)" class="w-full h-48 object-cover product-image">
                            <div class="p-6 flex flex-col flex-grow">
                                <h3 class="text-lg font-heading font-semibold text-text-dark mb-2 product-name">iPad (10th generation)</h3>
                                <p class="text-text-light mb-2 text-sm product-short-desc">Màn 10.9 inch, chip A14...</p>
                                <div class="mb-3 product-colors">
                                      <span class="inline-block w-5 h-5 rounded-full border border-gray-300 mr-1 mb-1" style="background-color: #C0C0C0;" title="Bạc"></span>
                                      <span class="inline-block w-5 h-5 rounded-full border border-gray-300 mr-1 mb-1" style="background-color: #ADD8E6;" title="Xanh Dương"></span>
                                      <span class="inline-block w-5 h-5 rounded-full border border-gray-300 mr-1 mb-1" style="background-color: #FFFFE0;" title="Vàng"></span>
                                      <span class="inline-block w-5 h-5 rounded-full border border-gray-300 mr-1 mb-1" style="background-color: #FFC0CB;" title="Hồng"></span>
                                 </div>
                                <div class="flex justify-between items-center mb-4">
                                    <span class="text-xl font-bold text-text-dark product-price">9.490.000₫</span>
                                    <span class="original-price text-sm product-original-price">10.990.000₫</span>
                                </div>
                                <div class="mt-auto space-y-2">
                                    <button class="add-to-cart-button w-full bg-brand-primary text-white py-2 px-4 rounded-full hover:bg-gray-800 transition duration-300 flex items-center justify-center"> <i class="fas fa-cart-plus mr-2"></i> Thêm vào giỏ </button>
                                    <button class="buy-now-button w-full bg-white text-brand-primary border border-brand-primary py-2 px-4 rounded-full hover:bg-gray-100 transition duration-300 flex items-center justify-center"> <i class="fas fa-bolt mr-2"></i> Mua Ngay </button>
                                </div>
                            </div>
                        </div>
        
                        <div class="product-card bg-white rounded-lg shadow-md overflow-hidden border flex flex-col"
                             data-id="14"
                             data-name="Apple Watch SE (GPS, 40mm)"
                             data-price="6.390.000₫"
                             data-image="https://fr.shopping.rakuten.com/photo/16598936330_ML.jpg"
                             data-description="Apple Watch SE mang đến các tính năng cốt lõi của Apple Watch với mức giá phải chăng. Theo dõi sức khỏe, thể chất, an toàn và kết nối."
                             data-specs="Chip: S8 SiP\nTính năng: Theo dõi nhịp tim, phát hiện ngã, SOS khẩn cấp, GPS\nChống nước: 50 mét\nMàn hình: Retina OLED LTPO\nKích cỡ: 40mm (có bản 44mm)"
                             data-origin="Trung Quốc / Việt Nam"
                             data-colors='[{"name": "Đen", "code":"#000000"}, {"name": "Trắng Ánh Sao", "code":"#F8F8FF"}, {"name": "Bạc", "code":"#C0C0C0"}]'
                             data-offer="Miễn phí vận chuyển"
                             data-related='[4, 1]'
                             data-reviews='[{"author": "Người mới dùng", "rating": 5, "comment": "Dễ dùng, đủ tính năng cần thiết."}, {"author": "Tập gym", "rating": 4, "comment": "Theo dõi tập luyện ổn, giá tốt."}]'>
                            <button class="wishlist-button" aria-label="Lưu sản phẩm"><i class="far fa-heart"></i></button>
                            <img src="https://fr.shopping.rakuten.com/photo/16598936330_ML.jpg">
                            <div class="p-6 flex flex-col flex-grow">
                                <h3 class="text-lg font-heading font-semibold text-text-dark mb-2 product-name">Apple Watch SE (40mm)</h3>
                                <p class="text-text-light mb-2 text-sm product-short-desc">Giá tốt, nhiều tính năng...</p>
                                <div class="mb-3 product-colors">
                                     <span class="inline-block w-5 h-5 rounded-full border border-gray-300 mr-1 mb-1" style="background-color: #000000;" title="Đen"></span>
                                     <span class="inline-block w-5 h-5 rounded-full border border-gray-300 mr-1 mb-1" style="background-color: #F8F8FF;" title="Trắng Ánh Sao"></span>
                                     <span class="inline-block w-5 h-5 rounded-full border border-gray-300 mr-1 mb-1" style="background-color: #C0C0C0;" title="Bạc"></span>
                                </div>
                                <div class="flex justify-between items-center mb-4">
                                    <span class="text-xl font-bold text-text-dark product-price">6.390.000₫</span>
                                </div>
                                <div class="mt-auto space-y-2">
                                    <button class="add-to-cart-button w-full bg-brand-primary text-white py-2 px-4 rounded-full hover:bg-gray-800 transition duration-300 flex items-center justify-center"> <i class="fas fa-cart-plus mr-2"></i> Thêm vào giỏ </button>
                                    <button class="buy-now-button w-full bg-white text-brand-primary border border-brand-primary py-2 px-4 rounded-full hover:bg-gray-100 transition duration-300 flex items-center justify-center"> <i class="fas fa-bolt mr-2"></i> Mua Ngay </button>
                                </div>
                            </div>
                        </div>
        
                         <div class="product-card bg-white rounded-lg shadow-md overflow-hidden border flex flex-col"
                             data-id="15"
                             data-name="AirTag"
                             data-price="790.000₫"
                             data-image="https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/airtag-single-select-202104?wid=892&hei=892&fmt=jpeg&qlt=95&.v=1617761671000"
                             data-description="AirTag là cách dễ dàng để theo dõi đồ đạc của bạn. Gắn một chiếc vào chìa khóa, bỏ chiếc khác vào ba lô. Và cứ thế, chúng sẽ hiển thị trong ứng dụng Tìm."
                             data-specs="Kết nối: Bluetooth, chip U1 Ultra Wideband\nPin: CR2032 (có thể thay thế)\nTính năng: Tìm chính xác (Precision Finding), tích hợp mạng lưới Tìm\nChống nước/bụi: IP67"
                             data-origin="Trung Quốc"
                             data-colors='[{"name": "Trắng/Bạc", "code": "#F5F5F5"}]'
                             data-offer="Mua 4 tặng 1 (tùy chương trình)"
                             data-related='[8, 9, 3]'
                             data-reviews='[{"author": "Người hay quên", "rating": 5, "comment": "Cứu tinh cho người não cá vàng!"}, {"author": "Du lịch", "rating": 4, "comment": "Yên tâm hơn khi gắn vào hành lý."}]'>
                            <button class="wishlist-button" aria-label="Lưu sản phẩm"><i class="far fa-heart"></i></button>
                            <img src="https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/airtag-single-select-202104?wid=892&hei=892&fmt=jpeg&qlt=95&.v=1617761671000" alt="AirTag" class="w-full h-48 object-cover product-image">
                            <div class="p-6 flex flex-col flex-grow">
                                <h3 class="text-lg font-heading font-semibold text-text-dark mb-2 product-name">AirTag</h3>
                                <p class="text-text-light mb-2 text-sm product-short-desc">Theo dõi đồ đạc dễ dàng...</p>
                                <div class="mb-3 product-colors">
                                     <span class="inline-block w-5 h-5 rounded-full border border-gray-300 mr-1 mb-1" style="background-color: #F5F5F5;" title="Trắng/Bạc"></span>
                                </div>
                                <div class="flex justify-between items-center mb-4">
                                    <span class="text-xl font-bold text-text-dark product-price">790.000₫</span>
                                </div>
                                <div class="mt-auto space-y-2">
                                    <button class="add-to-cart-button w-full bg-brand-primary text-white py-2 px-4 rounded-full hover:bg-gray-800 transition duration-300 flex items-center justify-center"> <i class="fas fa-cart-plus mr-2"></i> Thêm vào giỏ </button>
                                    <button class="buy-now-button w-full bg-white text-brand-primary border border-brand-primary py-2 px-4 rounded-full hover:bg-gray-100 transition duration-300 flex items-center justify-center"> <i class="fas fa-bolt mr-2"></i> Mua Ngay </button>
                                </div>
                            </div>
                        </div>
        
                        <div class="product-card bg-white rounded-lg shadow-md overflow-hidden border flex flex-col"
                             data-id="16"
                             data-name="HomePod mini"
                             data-price="2.790.000₫"
                             data-image="https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/homepod-mini-select-yellow-202110?wid=892&hei=892&fmt=jpeg&qlt=95&.v=1632948893000"
                             data-description="HomePod mini mang đến âm thanh lớn bất ngờ cho kích thước của nó. Đặt nhiều chiếc xung quanh nhà để tạo hệ thống âm thanh kết nối và sử dụng Intercom."
                             data-specs="Âm thanh: Tính toán âm thanh, trình điều khiển toàn dải\nKết nối: Wi-Fi, Bluetooth 5.0, Thread\nTính năng: Siri, Intercom, Trung tâm nhà thông minh (HomeKit)\nNguồn: Bộ đổi nguồn 20W (đi kèm)"
                             data-origin="Trung Quốc / Việt Nam"
                             data-colors='[{"name": "Xám Không Gian", "code":"#808080"}, {"name": "Trắng", "code":"#FFFFFF"}, {"name": "Xanh Dương", "code":"#0000FF"}, {"name": "Vàng", "code":"#FFD700"}, {"name": "Cam", "code":"#FFA500"}]'
                             data-offer=""
                             data-related='[1, 17]'
                             data-reviews='[{"author": "Yêu âm nhạc", "rating": 4, "comment": "Âm thanh hay so với kích thước, bass ổn."}, {"author": "Smart Home", "rating": 5, "comment": "Điều khiển nhà thông minh bằng giọng nói tiện lợi."}]'>
                            <button class="wishlist-button" aria-label="Lưu sản phẩm"><i class="far fa-heart"></i></button>
                            <img src="https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/homepod-mini-select-yellow-202110?wid=892&hei=892&fmt=jpeg&qlt=95&.v=1632948893000" alt="HomePod mini" class="w-full h-48 object-cover product-image">
                            <div class="p-6 flex flex-col flex-grow">
                                <h3 class="text-lg font-heading font-semibold text-text-dark mb-2 product-name">HomePod mini</h3>
                                <p class="text-text-light mb-2 text-sm product-short-desc">Âm thanh lớn, nhỏ gọn...</p>
                                <div class="mb-3 product-colors">
                                    <span class="inline-block w-5 h-5 rounded-full border border-gray-300 mr-1 mb-1" style="background-color: #808080;" title="Xám Không Gian"></span>
                                    <span class="inline-block w-5 h-5 rounded-full border border-gray-300 mr-1 mb-1" style="background-color: #FFFFFF;" title="Trắng"></span>
                                    <span class="inline-block w-5 h-5 rounded-full border border-gray-300 mr-1 mb-1" style="background-color: #0000FF;" title="Xanh Dương"></span>
                                    <span class="inline-block w-5 h-5 rounded-full border border-gray-300 mr-1 mb-1" style="background-color: #FFD700;" title="Vàng"></span>
                                    <span class="inline-block w-5 h-5 rounded-full border border-gray-300 mr-1 mb-1" style="background-color: #FFA500;" title="Cam"></span>
                                </div>
                                <div class="flex justify-between items-center mb-4">
                                    <span class="text-xl font-bold text-text-dark product-price">2.790.000₫</span>
                                </div>
                                <div class="mt-auto space-y-2">
                                    <button class="add-to-cart-button w-full bg-brand-primary text-white py-2 px-4 rounded-full hover:bg-gray-800 transition duration-300 flex items-center justify-center"> <i class="fas fa-cart-plus mr-2"></i> Thêm vào giỏ </button>
                                    <button class="buy-now-button w-full bg-white text-brand-primary border border-brand-primary py-2 px-4 rounded-full hover:bg-gray-100 transition duration-300 flex items-center justify-center"> <i class="fas fa-bolt mr-2"></i> Mua Ngay </button>
                                </div>
                            </div>
                        </div>
        
                        <div class="product-card bg-white rounded-lg shadow-md overflow-hidden border flex flex-col"
                             data-id="17"
                             data-name="Apple TV 4K (128GB, Wi-Fi + Ethernet)"
                             data-price="4.190.000₫"
                             data-image="https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/apple-tv-4k-hero-select-202210?wid=892&hei=892&fmt=jpeg&qlt=95&.v=1664896361408"
                             data-description="Trải nghiệm giải trí đỉnh cao với Apple TV 4K. Thưởng thức nội dung 4K HDR, Dolby Vision và Dolby Atmos. Chơi game Apple Arcade, điều khiển nhà thông minh."
                             data-specs="Chip: A15 Bionic\nĐộ phân giải: 4K HDR (Dolby Vision, HDR10+)\nÂm thanh: Dolby Atmos\nKết nối: Wi-Fi 6, Gigabit Ethernet, HDMI 2.1, Thread\nBộ nhớ: 128GB"
                             data-origin="Trung Quốc"
                             data-colors='[{"name": "Đen", "code": "#000000"}]'
                             data-offer="Tặng 3 tháng Apple TV+"
                             data-related='[16]'
                             data-reviews='[{"author": "Xem phim HD", "rating": 5, "comment": "Chất lượng hình ảnh, âm thanh tuyệt vời."}, {"author": "Gia đình", "rating": 4, "comment": "Nhiều ứng dụng, dễ sử dụng."}]'>
                            <button class="wishlist-button" aria-label="Lưu sản phẩm"><i class="far fa-heart"></i></button>
                            <img src="https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/apple-tv-4k-hero-select-202210?wid=892&hei=892&fmt=jpeg&qlt=95&.v=1664896361408" alt="Apple TV 4K (128GB, Wi-Fi + Ethernet)" class="w-full h-48 object-cover product-image">
                            <div class="p-6 flex flex-col flex-grow">
                                <h3 class="text-lg font-heading font-semibold text-text-dark mb-2 product-name">Apple TV 4K (Wi-Fi + Ethernet)</h3>
                                <p class="text-text-light mb-2 text-sm product-short-desc">Giải trí 4K HDR đỉnh cao...</p>
                                <div class="mb-3 product-colors">
                                     <span class="inline-block w-5 h-5 rounded-full border border-gray-300 mr-1 mb-1" style="background-color: #000000;" title="Đen"></span>
                                </div>
                                <div class="flex justify-between items-center mb-4">
                                    <span class="text-xl font-bold text-text-dark product-price">4.190.000₫</span>
                                </div>
                                <div class="mt-auto space-y-2">
                                    <button class="add-to-cart-button w-full bg-brand-primary text-white py-2 px-4 rounded-full hover:bg-gray-800 transition duration-300 flex items-center justify-center"> <i class="fas fa-cart-plus mr-2"></i> Thêm vào giỏ </button>
                                    <button class="buy-now-button w-full bg-white text-brand-primary border border-brand-primary py-2 px-4 rounded-full hover:bg-gray-100 transition duration-300 flex items-center justify-center"> <i class="fas fa-bolt mr-2"></i> Mua Ngay </button>
                                </div>
                            </div>
                        </div>
                        </div>
                </div>
            </div>
        </section>

        <section id="promo-banners" class="py-16 bg-gray-100"> <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
    
                <div class="lg:col-span-1 bg-black text-white rounded-lg p-8 flex flex-col justify-between min-h-[450px] overflow-hidden items-center text-center relative group"> <div class="absolute inset-0 flex items-center justify-center opacity-10 group-hover:opacity-20 transition-opacity duration-300 -z-0">
                          <img src="https://www.freepnglogos.com/uploads/airpods-png/airpods-pro-airpods-what-the-difference-and-10.png" alt="" class="max-h-[80%] w-auto object-contain">
                     </div>
                     <div class="relative z-10 mt-auto w-full">
                         <h3 class="text-3xl font-bold mb-2">Sale Up To 30% Off</h3>
                         <p class="text-lg mb-4 text-gray-300">Latest Sound System</p>
                         <a href="https://cellphones.com.vn/uu-dai-sinh-vien-hoc-sinh/apple" class="inline-block text-sm font-semibold uppercase tracking-wider border-b-2 border-yellow-400 pb-1 hover:text-yellow-400 transition">
                             View Offer
                         </a>
                     </div>
                </div>
    
                <div class="lg:col-span-2 grid grid-cols-1 sm:grid-cols-2 gap-6">
    
                    <div class="bg-black text-white rounded-lg p-6 flex flex-col justify-between items-start relative overflow-hidden min-h-[213px] group"> <img src="https://www.pngall.com/wp-content/uploads/15/Apple-Watch-PNG-File.png" alt="Smart Watch" class="absolute top-0 right-0 w-40 h-auto object-contain group-hover:scale-105 transition-transform duration-300">
                         <div class="relative z-10">
                             <h4 class="text-xl font-semibold mb-1">20% Off</h4>
                             <p class="text-lg font-bold mb-3">Smart Watch</p>
                             <a href="https://cellphones.com.vn/uu-dai-sinh-vien-hoc-sinh/apple" class="text-xs font-semibold uppercase tracking-wider hover:underline text-gray-300 hover:text-white transition">
                                 Shop Now
                             </a>
                         </div>
                    </div>
    
                    <div class="bg-black text-white rounded-lg p-6 flex flex-col justify-between items-start relative overflow-hidden min-h-[213px] group"> <img src="https://assets.mmsrg.com/isr/166325/c1/-/ASSET_MMS_106735736/fee_786_587_png" alt="Camera" class="absolute bottom-0 right-0 w-40 h-auto object-contain group-hover:scale-105 transition-transform duration-300">
                         <div class="relative z-10">
                              <h4 class="text-xl font-bold mb-3">Tablet Computer</h4>
                             <a href="https://cellphones.com.vn/uu-dai-sinh-vien-hoc-sinh/apple" class="text-xs font-semibold uppercase tracking-wider hover:underline text-gray-300 hover:text-white transition">
                                 View More
                             </a>
                         </div>
                     </div>
    
                    <div class="bg-black text-white rounded-lg p-6 flex flex-col justify-between items-start relative overflow-hidden min-h-[213px] group"> <img src="https://support.apple.com/library/APPLE/APPLECARE_ALLGEOS/SP888/homepod-2gen.png" alt="Smart Speaker" class="absolute bottom-0 right-0 w-40 h-auto object-contain group-hover:scale-105 transition-transform duration-300">
                        <div class="relative z-10">
                             <h4 class="text-xl font-bold mb-3">Smart Speaker</h4>
                             <a href="https://cellphones.com.vn/uu-dai-sinh-vien-hoc-sinh/apple" class="text-xs font-semibold uppercase tracking-wider hover:underline text-gray-300 hover:text-white transition">
                                  View More
                             </a>
                         </div>
                     </div>
    
                    <div class="bg-black text-white rounded-lg p-6 flex flex-col justify-between items-start relative overflow-hidden min-h-[213px] group"> <img src="https://static.vecteezy.com/system/resources/thumbnails/046/032/707/small_2x/tech-and-gadget-3d-icon-png.png" class="absolute bottom-2 right-2 w-40 h-auto object-contain group-hover:scale-105 transition-transform duration-300">
                         <div class="relative z-10">
                              <h4 class="text-xl font-bold mb-3">Game Controller</h4>
                             <a href="https://cellphones.com.vn/uu-dai-sinh-vien-hoc-sinh/apple" class="text-xs font-semibold uppercase tracking-wider hover:underline text-gray-300 hover:text-white transition">
                                 View More
                             </a>
                         </div>
                     </div>
    
                </div> </div> </div> </section>

        <section id="news" class="py-16 bg-brand-secondary">
            <div class="container mx-auto px-4">
                <h2 class="text-3xl font-heading font-bold text-center text-text-dark mb-12">Tin Tức Mới Nhất Từ Apple</h2>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                    <article class="news-card bg-white rounded-lg shadow-md overflow-hidden border flex flex-col">
                        <img src="https://www.apple.com/newsroom/images/2025/03/apples-worldwide-developers-conference-returns-the-week-of-june-9/article/Apple-WWDC25-event-branding_big.jpg.large.jpg" alt="Tin tức WWDC" class="w-full h-48 object-cover">
                        <div class="p-6 flex flex-col flex-grow">
                            <h3 class="text-xl font-heading font-semibold text-text-dark mb-3">WWDC 2025: Những công bố đáng chú ý</h3>
                            <p class="text-text-light text-sm mb-4 flex-grow">Apple đã giới thiệu iOS 19...</p>
                            <a href="https://www.apple.com/apple-events/" target="_blank" class="text-text-dark font-semibold hover:underline mt-auto self-start">Đọc thêm <i class="fas fa-arrow-right text-xs ml-1"></i></a>
                        </div>
                    </article>
                    <article class="news-card bg-white rounded-lg shadow-md overflow-hidden border flex flex-col">
                        <img src="https://i.ytimg.com/vi/lErJa22PBC8/maxresdefault.jpg" alt="Tin tức MacBook Air" class="w-full h-48 object-cover">
                        <div class="p-6 flex flex-col flex-grow">
                            <h3 class="text-xl font-heading font-semibold text-text-dark mb-3">MacBook Air M4 lộ diện...?</h3>
                            <p class="text-text-light text-sm mb-4 flex-grow">Những tin đồn mới nhất...</p>
                            <a href="https://www.apple.com/newsroom/" target="_blank" class="text-text-dark font-semibold hover:underline mt-auto self-start">Đọc thêm <i class="fas fa-arrow-right text-xs ml-1"></i></a>
                        </div>
                    </article>
                    <article class="news-card bg-white rounded-lg shadow-md overflow-hidden border flex flex-col">
                        <img src="https://static-images.vnncdn.net/vps_images_publish/000001/000003/2025/3/12/ios-19-se-la-cuoc-cach-mang-lon-nhat-cho-iphone-93541.png?width=0&s=LMRnY5BYtyKNTjh_9p3W6g" alt="Tin tức iOS 19" class="w-full h-48 object-cover">
                        <div class="p-6 flex flex-col flex-grow">
                            <h3 class="text-xl font-heading font-semibold text-text-dark mb-3">Các tính năng AI mới trên iOS 19</h3>
                            <p class="text-text-light text-sm mb-4 flex-grow">Bản cập nhật iOS 19 mang đến...</p>
                            <a href="https://developer.apple.com/ios/" target="_blank" class="text-text-dark font-semibold hover:underline mt-auto self-start">Đọc thêm <i class="fas fa-arrow-right text-xs ml-1"></i></a>
                        </div>
                    </article>
                </div>
            </div>
        </section>
       <section id="info" class="py-16 bg-brand-secondary">
    <div class="container mx-auto px-4">
        <h2 class="text-3xl font-heading font-bold text-center text-text-dark mb-12">Thông Tin Hữu Ích</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 text-center">
            <div class="bg-white p-6 rounded-lg shadow-sm border border-border-color">
                <i class="fas fa-shopping-bag text-3xl text-text-dark mb-4"></i>
                <h3 class="text-xl font-heading font-semibold text-text-dark mb-2">Hướng dẫn mua hàng</h3>
                <p class="text-text-light text-sm">Các bước đơn giản...</p>
                <a href="https://www.apple.com/shop/help" target="_blank" rel="noopener noreferrer" class="text-text-dark font-semibold hover:underline mt-4 inline-block text-sm">Xem chi tiết</a>
            </div>
            <div class="bg-white p-6 rounded-lg shadow-sm border border-border-color">
                <i class="fas fa-credit-card text-3xl text-text-dark mb-4"></i>
                <h3 class="text-xl font-heading font-semibold text-text-dark mb-2">Thanh toán</h3>
                <p class="text-text-light text-sm">Hỗ trợ thanh toán COD...</p>
                <a href="https://www.apple.com/shop/help/payments" target="_blank" rel="noopener noreferrer" class="text-text-dark font-semibold hover:underline mt-4 inline-block text-sm">Xem chi tiết</a>
            </div>
            <div class="bg-white p-6 rounded-lg shadow-sm border border-border-color">
                <i class="fas fa-truck-fast text-3xl text-text-dark mb-4"></i>
                <h3 class="text-xl font-heading font-semibold text-text-dark mb-2">Vận chuyển</h3>
                <p class="text-text-light text-sm">Giao hàng toàn quốc...</p>
                <a href="https://www.apple.com/shop/help/shipping_delivery" target="_blank" rel="noopener noreferrer" class="text-text-dark font-semibold hover:underline mt-4 inline-block text-sm">Xem chi tiết</a>
            </div>
            <div class="bg-white p-6 rounded-lg shadow-sm border border-border-color">
                <i class="fas fa-arrows-rotate text-3xl text-text-dark mb-4"></i>
                <h3 class="text-xl font-heading font-semibold text-text-dark mb-2">Đổi trả hàng</h3>
                <p class="text-text-light text-sm">Chính sách đổi trả linh hoạt...</p>
                <a href="https://www.apple.com/shop/help/returns_refund" target="_blank" rel="noopener noreferrer" class="text-text-dark font-semibold hover:underline mt-4 inline-block text-sm">Xem chi tiết</a>
            </div>
        </div>
    </div>
</section>
        
<section id="contact" class="bg-brand-primary text-white pt-12 pb-8">
    </section>
        <section id="contact" class="bg-brand-primary text-white pt-12 pb-8">
            <div class="container mx-auto px-4">
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-8">
                    <div>
                        <h4 class="text-xl font-heading font-semibold mb-4 text-white">Apple</h4>
                        <p class="text-gray-400 mb-2"><i class="fas fa-map-marker-alt mr-2 w-4 text-center"></i> Hồng Tiến, Phổ Yên , Thái Nguyên</p>
                        <p class="text-gray-400 mb-2"><i class="fas fa-phone mr-2 w-4 text-center"></i> <a href="tel:0961857665" class="text-gray-300 hover:text-white">0961857665</a></p>
                        <p class="text-gray-400"><i class="fas fa-envelope mr-2 w-4 text-center"></i> <a href="mailto:baok11220@gmail.com" class="text-gray-300 hover:text-white">baok11220@gmail.com</a></p>
                    </div>
                    <div>
                        <h4 class="text-xl font-heading font-semibold mb-4 text-white">Liên kết nhanh</h4>
                        <ul>
                            <li class="mb-2"><a href="#home" class="text-gray-300 hover:text-white">Trang chủ</a></li>
                            <li class="mb-2"><a href="#products" class="text-gray-300 hover:text-white">Sản phẩm</a></li>
                            <li class="mb-2"><a href="#news" class="text-gray-300 hover:text-white">Tin tức</a></li>
                            <li class="mb-2"><a href="#info" class="text-gray-300 hover:text-white">Hướng dẫn mua hàng</a></li>
                            <li class="mb-2"><a href="#info" class="text-gray-300 hover:text-white">Chính sách đổi trả</a></li>
                        </ul>
                    </div>
                    <div>
                        <h4 class="text-xl font-heading font-semibold mb-4 text-white">Kết nối với chúng tôi</h4>
                        <div class="flex space-x-4">
                            <a href="https://www.facebook.com/khanh.hoang.490561" target="_blank" class="text-gray-300 hover:text-white text-2xl" aria-label="Facebook"><i class="fab fa-facebook-square"></i></a>
                            <a href="https://www.instagram.com/khanhhoang4967/" target="_blank" class="text-gray-300 hover:text-white text-2xl" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                            <a href="https://www.tiktok.com/@nguyn.hong.bo.khn4" target="_blank" class="text-gray-300 hover:text-white text-2xl" aria-label="TikTok"><i class="fab fa-tiktok"></i></a>
                            <a href="https://www.youtube.com/@khanhbao7888" target="_blank" class="text-gray-300 hover:text-white text-2xl" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
                        </div>
                    </div>
                </div>
                <hr class="border-gray-700 my-6">
                <p class="text-center text-gray-500 text-sm">Trang web apple được phát triển đội ngũ N2K</p>
            </div>
        </section>
        
        <section id="product-detail-view" class="py-16 bg-brand-secondary hidden">
            <div class="container mx-auto px-4">
                 <button id="back-to-products-button" class="mb-6 text-text-dark hover:text-text-light transition duration-300">
                     <i class="fas fa-arrow-left mr-2"></i> Quay lại danh sách sản phẩm
                 </button>

                 <div class="grid grid-cols-1 md:grid-cols-2 gap-8 md:gap-12">
                     <div>
                         <img id="detail-product-image" src="https://placehold.co/600x450/cccccc/555?text=User+Uploaded+Image" alt="Product Image" class="w-full rounded-lg shadow-md mb-4 border border-border-color">
                      </div>

                     <div>
                         <h1 id="detail-product-name" class="text-3xl md:text-4xl font-heading font-bold mb-3 text-text-dark">Tên sản phẩm</h1>
                         <div class="mb-4">
                             <span id="detail-product-price" class="text-3xl font-bold text-text-dark mr-3">Giá</span>
                             <span id="detail-product-original-price" class="original-price text-xl">Giá gốc</span>
                         </div>
                         <div id="detail-product-offer-container" class="mb-5 hidden">
                            <div class="offer-box p-3 rounded-lg flex items-center text-sm">
                                <i class="fas fa-tag mr-2"></i>
                                <span id="detail-product-offer">Ưu đãi...</span>
                            </div>
                         </div>

                         <div class="mb-6">
                             <h3 class="text-lg font-semibold mb-2 text-text-dark">Màu sắc: <span id="selected-color-name" class="font-normal text-text-light"></span></h3>
                             <div id="detail-color-options" class="flex items-center space-x-2">
                                  </div>
                         </div>

                         <button id="detail-add-to-cart-button" class="w-full bg-brand-primary text-white py-3 px-6 rounded-full hover:bg-gray-800 transition duration-300 flex items-center justify-center text-lg mb-6">
                             <i class="fas fa-cart-plus mr-2"></i> Thêm vào giỏ
                         </button>

                         <div class="border-t border-border-color pt-6">
                             <div class="mb-6">
                                 <h3 class="text-xl font-semibold mb-3 text-text-dark">Mô tả sản phẩm</h3>
                                 <p id="detail-product-description" class="text-text-light leading-relaxed">Mô tả chi tiết...</p>
                              </div>
                             <div class="mb-6">
                                 <h3 class="text-xl font-semibold mb-3 text-text-dark">Thông số kỹ thuật</h3>
                                 <p id="detail-product-specs" class="text-text-light whitespace-pre-line">Thông số...</p>
                              </div>
                              <div class="mb-6">
                                 <h3 class="text-xl font-semibold mb-3 text-text-dark">Nơi sản xuất</h3>
                                 <p id="detail-product-origin" class="text-text-light">Xuất xứ...</p>
                              </div>
                             <div>
                                 <h3 class="text-xl font-semibold mb-3 text-text-dark">Đánh giá của khách hàng</h3>
                                 <div id="detail-product-reviews" class="space-y-4 text-sm">
                                      {/* Placeholder Reviews */}
                                      <div class="border-t border-border-color pt-3"> <p class="font-semibold text-text-dark">Nguyễn Văn A</p> <div class="text-yellow-400 my-1"> <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="far fa-star"></i> </div> <p class="text-text-light">Sản phẩm tuyệt vời...</p> </div>
                                      <div class="border-t border-border-color pt-3"> <p class="font-semibold text-text-dark">Trần Thị B</p> <div class="text-yellow-400 my-1"> <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i> </div> <p class="text-text-light">Rất hài lòng...</p> </div>
                                  </div>
                              </div>
                          </div>
                      </div>
                  </div>

                 <section id="related-products-section" class="mt-16 pt-8 border-t border-border-color">
                     <h2 class="text-2xl font-bold text-center text-text-dark mb-8">Sản phẩm liên quan</h2>
                     <div id="related-products-container" class="flex overflow-x-auto pb-4 space-x-6 related-products-container">
                         </div>
                 </section>
            </div>
        </section>

        <button id="support-button" class="support-button bg-brand-primary text-white w-14 h-14 rounded-full flex items-center justify-center shadow-lg hover:bg-gray-800 transition duration-300">
            <i class="fas fa-comment-dots text-2xl"></i>
        </button>

        <div id="chatbox" class="chatbox border border-border-color">
            <div class="chatbox-header flex justify-between items-center bg-gray-100">
                <h3 class="font-semibold text-sm text-text-dark pl-3">N2K APPLE</h3>
                <button id="close-chatbox-button" class="text-gray-500 hover:text-text-dark pr-2 text-2xl">&times;</button>
            </div>
        
            <div id="chatbox-body" class="chatbox-body p-3 space-y-3">
                <div class="chat-message ai-message">
                     <p class="bg-chat-bg text-text-dark p-2 rounded-lg inline-block max-w-[85%] text-sm">
                         Chào bạn! Tôi là NHI APPLE. Tôi có thể giúp gì cho bạn về các sản phẩm và dịch vụ?
                     </p>
                </div>
                 </div>
        
            <div class="chatbox-footer p-2 border-t border-border-color flex items-center gap-2">
                <input type="text" id="chat-input" placeholder="Nhập tin nhắn..." class="flex-grow border rounded-full px-3 py-1.5 text-sm focus:outline-none focus:ring-1 focus:ring-brand-primary focus:border-brand-primary">
                <button id="chat-send-button" class="bg-brand-primary text-white rounded-full w-8 h-8 flex items-center justify-center hover:bg-gray-800 transition duration-300 flex-shrink-0" aria-label="Gửi tin nhắn">
                    <i class="fas fa-paper-plane text-sm"></i>
                </button>
            </div>
        </div>

    </main>

    <div id="cart-panel" class="cart-panel"> <div id="cart-overlay" class="cart-overlay"></div> <div class="cart-content shadow-lg border-l border-border-color"> <div class="flex justify-between items-center p-4 border-b border-border-color"> <h2 class="text-xl font-heading font-semibold text-text-dark">Giỏ hàng</h2> <button id="close-cart-button" class="text-gray-500 hover:text-text-dark text-2xl">&times;</button> </div> <div class="cart-body p-4 space-y-4"> <div class="flex items-center space-x-3 border-b border-border-color pb-3 cart-item-demo hidden"> <img src="https://placehold.co/80x80/f0f0f0/333?text=Item" alt="Cart Item" class="w-16 h-16 rounded object-cover cart-item-image"> <div class="flex-grow"> <h4 class="text-sm font-semibold text-text-dark cart-item-name">Tên SP demo</h4> <p class="text-xs text-text-light">Số lượng: <span class="cart-item-quantity">1</span></p> <p class="text-sm font-semibold text-text-dark cart-item-price">Giá demo</p> </div> <button class="text-red-500 hover:text-red-700 text-sm remove-item-button"> <i class="fas fa-trash-alt"></i> </button> </div> <div id="empty-cart-message" class="text-center text-text-light py-8"> <i class="fas fa-shopping-cart text-4xl mb-4"></i> <p>Giỏ hàng của bạn đang trống.</p> </div> </div> <div class="p-4 border-t border-border-color mt-auto"> <div class="flex justify-between items-center mb-4"> <span class="text-text-light">Tạm tính:</span> <span id="cart-subtotal" class="text-lg font-bold text-text-dark">0₫</span> </div> <button id="checkout-button" class="w-full bg-brand-primary text-white py-3 px-4 rounded-full hover:bg-gray-800 transition duration-300 font-semibold disabled:opacity-50 disabled:cursor-not-allowed" disabled> Tiến hành thanh toán </button> </div> </div> </div>
    <div id="checkout-modal" class="checkout-modal items-center justify-center"> <div id="checkout-overlay" class="checkout-overlay"></div> <div class="checkout-modal-content bg-white rounded-lg shadow-xl w-11/12 md:w-2/3 lg:w-1/2 p-6 md:p-8 relative border border-border-color"> <button id="close-checkout-button" class="absolute top-4 right-4 text-gray-500 hover:text-text-dark text-2xl">&times;</button> <h2 class="text-2xl font-heading font-bold mb-6 text-center text-text-dark">Thông tin đặt hàng</h2> <form id="checkout-form"> <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4"> <div> <label for="checkout-name" class="block text-sm font-medium text-gray-700 mb-1">Họ và tên</label> <input type="text" id="checkout-name" name="name" required class="w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-1"> </div> <div> <label for="checkout-phone" class="block text-sm font-medium text-gray-700 mb-1">Số điện thoại</label> <input type="tel" id="checkout-phone" name="phone" required class="w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-1"> </div> </div> <div class="mb-4"> <label for="checkout-email" class="block text-sm font-medium text-gray-700 mb-1">Địa chỉ Email</label> <input type="email" id="checkout-email" name="email" required class="w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-1"> </div> <div class="mb-6"> <label for="checkout-address" class="block text-sm font-medium text-gray-700 mb-1">Địa chỉ nhận hàng</label> <textarea id="checkout-address" name="address" rows="3" required class="w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-1"></textarea> </div> <div class="mb-4"> <p class="text-sm font-medium text-gray-700 mb-2">Phương thức thanh toán</p> <div class="space-y-2"> <label class="flex items-center border border-border-color p-3 rounded-md cursor-pointer hover:bg-gray-50"> <input type="radio" name="payment_method" value="cod" class="mr-3" checked> <span class="text-text-dark">Thanh toán khi nhận hàng (COD)</span> </label> <label class="flex items-center border border-border-color p-3 rounded-md cursor-pointer hover:bg-gray-50"> <input type="radio" name="payment_method" value="bank" class="mr-3"> <span class="text-text-dark">Chuyển khoản ngân hàng</span> </label> </div> </div> <button type="submit" id="place-order-button" class="w-full bg-brand-primary text-white py-3 px-4 rounded-full hover:bg-gray-800 transition duration-300 font-semibold"> Hoàn tất đặt hàng </button> </form> </div> </div>
    <div id="toast-notification" class="toast-notification"></div>

    <script>
        // --- DOM Elements (Original & Referenced) ---
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const closeMobileMenuButton = document.getElementById('close-mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');
        const mobileMenuOverlay = document.getElementById('mobile-menu-overlay');
        const mobileMenuLinks = document.querySelectorAll('.mobile-menu-link');
    
        const cartButton = document.getElementById('cart-button');
        const cartButtonMobile = document.getElementById('cart-button-mobile');
        const cartPanel = document.getElementById('cart-panel');
        const cartOverlay = document.getElementById('cart-overlay'); // Used for cart panel
        const closeCartButton = document.getElementById('close-cart-button');
        const cartCountSpan = document.getElementById('cart-count');
        const cartCountMobileSpan = document.getElementById('cart-count-mobile');
        const cartSubtotalSpan = document.getElementById('cart-subtotal');
        const emptyCartMessage = document.getElementById('empty-cart-message');
        const cartBody = cartPanel?.querySelector('.cart-body'); // Safer access
        const checkoutButton = document.getElementById('checkout-button');
    
        const productCards = document.querySelectorAll('.product-card');
        const addToCartButtons = document.querySelectorAll('.add-to-cart-button');
        const wishlistButtons = document.querySelectorAll('.wishlist-button');
    
        const supportButton = document.getElementById('support-button'); // Used for chat toggle
        const chatbox = document.getElementById('chatbox'); // Used for chat toggle and UI
        const closeChatboxButton = document.getElementById('close-chatbox-button'); // Used for chat toggle
    
        const checkoutModal = document.getElementById('checkout-modal');
        const checkoutOverlay = document.getElementById('checkout-overlay'); // Used for checkout modal
        const closeCheckoutButton = document.getElementById('close-checkout-button');
        const checkoutForm = document.getElementById('checkout-form');
        const placeOrderButton = document.getElementById('place-order-button');
    
        const toastNotification = document.getElementById('toast-notification');
        const body = document.body;
    
        // Header elements (Original)
        const headerSearchInput = document.getElementById('header-search-input');
        const buyerInfoButton = document.getElementById('buyer-info-button');
        const loginButton = document.getElementById('login-button');
        const mobileBuyerInfoButton = document.getElementById('mobile-buyer-info-button'); // Assuming these exist in mobile menu based on original code
        const mobileLoginButton = document.getElementById('mobile-login-button');     // Assuming these exist
    
        // Elements for Product Detail View (Original)
        const productDetailView = document.getElementById('product-detail-view');
        const backToProductsButton = document.getElementById('back-to-products-button');
        const detailProductName = document.getElementById('detail-product-name');
        const detailProductImage = document.getElementById('detail-product-image');
        const detailProductPrice = document.getElementById('detail-product-price');
        const detailProductOriginalPrice = document.getElementById('detail-product-original-price');
        const detailProductOfferContainer = document.getElementById('detail-product-offer-container');
        const detailProductOffer = document.getElementById('detail-product-offer');
        const detailColorOptionsContainer = document.getElementById('detail-color-options');
        const selectedColorNameSpan = document.getElementById('selected-color-name');
        const detailProductDescription = document.getElementById('detail-product-description');
        const detailProductSpecs = document.getElementById('detail-product-specs');
        const detailProductOrigin = document.getElementById('detail-product-origin');
        const detailProductReviews = document.getElementById('detail-product-reviews');
        const detailAddToCartButton = document.getElementById('detail-add-to-cart-button');
        const relatedProductsContainer = document.getElementById('related-products-container');
    
        // Elements for Buyer Info View (Original - Assuming these exist)
        const buyerInfoView = document.getElementById('buyer-info-view');
        const backFromBuyerInfoButton = document.getElementById('back-from-buyer-info');
    
        // Elements for Login View (Original - Assuming these exist)
        const loginView = document.getElementById('login-view');
        const backFromLoginButton = document.getElementById('back-from-login');
        const loginForm = document.getElementById('login-form');
    
        // Image Slider Elements (Original)
        const sliderInner = document.getElementById('slider-inner');
        const sliderPrevButton = document.getElementById('slider-prev');
        const sliderNextButton = document.getElementById('slider-next');
        const sliderDotsContainer = document.getElementById('slider-dots');
        const slides = sliderInner ? sliderInner.children : []; // Get slides
    
        // --- State Variables (Original & Updated) ---
        let cartItems = [];
        let isChatboxOpen = false; // State for chatbox visibility
        let currentProductData = null;
        let currentSlideIndex = 0;
        let slideInterval;
        let conversationHistory = []; // Stores chat history for Gemini context
    
        // --- Gemini Chat Elements ---
        const chatInput = document.getElementById('chat-input');
        const chatSendButton = document.getElementById('chat-send-button');
        const chatboxBody = document.getElementById('chatbox-body'); // Chat message display area
    
        // --- Gemini API Configuration ---
        // !!! QUAN TRỌNG: Thay thế 'YOUR_API_KEY_HERE' bằng Khóa API Gemini của bạn !!!
        // !!! LƯU Ý: Không nên để API Key trực tiếp trong mã nguồn phía client cho môi trường production vì lý do bảo mật. !!!
        // !!!      Hãy cân nhắc sử dụng một backend proxy để gọi API Gemini. !!!
        const GEMINI_API_KEY = 'AIzaSyApnAJc0ROV7koLtQu5CZGXL43TIgCWZMM';
        const GEMINI_MODEL_NAME = "gemini-1.5-flash"; // Hoặc "gemini-2.0-flash" nếu bạn muốn sử dụng model đó
        // const GEMINI_API_URL = `https://generativelanguage.googleapis.com/v1beta/models/${GEMINI_MODEL_NAME}:generateContent?key=${GEMINI_API_KEY}`;
        // Đã sửa lỗi: URL không nên chứa API key trực tiếp như vậy khi khai báo. Fetch sẽ dùng nó.
        // URL chính xác để gọi API
        const GEMINI_API_URL = `https://generativelanguage.googleapis.com/v1beta/models/${GEMINI_MODEL_NAME}:generateContent`;
    
    
        // --- Functions ---
    
        function toggleBodyOverflow(shouldHide) {
            const isActive = (el) => el && el.classList.contains('active');
            const isViewingDetail = body.classList.contains('viewing-product-detail');
            // Add checks for buyer info and login views if they are implemented as overlays/modals
            // const isViewingBuyerInfo = body.classList.contains('viewing-buyer-info');
            // const isViewingLogin = body.classList.contains('viewing-login');
    
            if (shouldHide) {
                body.classList.add('overflow-hidden');
            } else {
                // Only remove overflow-hidden if NO modal/panel/view is active AND chatbox is closed
                if (!isActive(cartPanel) && !isActive(mobileMenu) && !isActive(checkoutModal) &&
                    !isViewingDetail && /* !isViewingBuyerInfo && !isViewingLogin && */ !isChatboxOpen) {
                    body.classList.remove('overflow-hidden');
                }
            }
        }
    
        // Mobile Menu Functions
        function openMobileMenu() {
            if(mobileMenu && mobileMenuOverlay) {
                mobileMenu.classList.add('active'); mobileMenuOverlay.classList.add('active'); toggleBodyOverflow(true);
            }
        }
        function closeMobileMenu() {
            if(mobileMenu && mobileMenuOverlay) {
                mobileMenu.classList.remove('active'); mobileMenuOverlay.classList.remove('active'); toggleBodyOverflow(false);
            }
        }
    
        // Cart Panel Functions
        function openCartPanel() {
            if(cartPanel && cartOverlay) {
                cartPanel.classList.add('active'); cartOverlay.classList.add('active'); toggleBodyOverflow(true);
            }
        }
        function closeCartPanel() {
            if(cartPanel && cartOverlay) {
                cartPanel.classList.remove('active'); cartOverlay.classList.remove('active'); toggleBodyOverflow(false);
            }
        }
    
        function updateCartCount() {
            const totalQuantity = cartItems.reduce((sum, item) => sum + item.quantity, 0);
            if(cartCountSpan) cartCountSpan.textContent = totalQuantity;
            if(cartCountMobileSpan) cartCountMobileSpan.textContent = totalQuantity;
        }
    
        function updateCartUI() {
            if (!cartBody) return;
            // Clear existing items except the empty message template
            cartBody.querySelectorAll('.cart-item-demo:not([style*="display: none"])').forEach(item => item.remove()); // Improved selector
    
            let subtotal = 0;
            if (cartItems.length > 0) {
                if(emptyCartMessage) emptyCartMessage.classList.add('hidden');
                if(checkoutButton) checkoutButton.disabled = false;
    
                cartItems.forEach(item => {
                    const itemElement = document.createElement('div');
                    itemElement.classList.add('flex', 'items-center', 'space-x-3', 'border-b', 'pb-3', 'cart-item-demo', 'border-border-color');
                    itemElement.innerHTML = `
                        <img src="${item.image || 'https://placehold.co/80x80/f0f0f0/333?text=N/A'}" alt="${item.name}" class="w-16 h-16 rounded object-cover cart-item-image">
                        <div class="flex-grow">
                            <h4 class="text-sm font-semibold text-text-dark cart-item-name">${item.name || 'Sản phẩm không tên'}</h4>
                            <p class="text-xs text-text-light">Số lượng: <span class="cart-item-quantity">${item.quantity || 1}</span></p>
                            <p class="text-sm font-semibold text-text-dark cart-item-price">${item.price || 'Liên hệ'}</p>
                        </div>
                        <button class="text-red-500 hover:text-red-700 text-sm remove-item-button" data-id="${item.id}" aria-label="Xóa sản phẩm">
                            <i class="fas fa-trash-alt"></i>
                        </button>
                    `;
                    cartBody.appendChild(itemElement);
    
                    // Calculate subtotal safely
                    const priceString = item.price || '0';
                    const priceNumber = parseFloat(priceString.replace(/[^0-9]/g, ''));
                    if (!isNaN(priceNumber)) {
                        subtotal += priceNumber * (item.quantity || 1);
                    }
    
                    // Add event listener for remove button
                    const removeButton = itemElement.querySelector('.remove-item-button');
                    if(removeButton) {
                       removeButton.addEventListener('click', (e) => {
                           const itemId = e.currentTarget.dataset.id;
                           if (itemId) {
                              removeItemFromCart(itemId);
                           }
                       });
                    }
                });
            } else {
                if(emptyCartMessage) emptyCartMessage.classList.remove('hidden');
                if(checkoutButton) checkoutButton.disabled = true;
            }
    
            if(cartSubtotalSpan) cartSubtotalSpan.textContent = subtotal.toLocaleString('vi-VN') + '₫';
            updateCartCount();
        }
    
        function addItemToCart(productData) {
            if (!productData || !productData.id) {
                console.error("Invalid product data provided to addItemToCart");
                showToast('Lỗi: Không thể thêm sản phẩm không hợp lệ.');
                return;
            }
            const existingItemIndex = cartItems.findIndex(item => item.id === productData.id);
    
            if (existingItemIndex > -1) {
                cartItems[existingItemIndex].quantity += 1;
            } else {
                cartItems.push({ ...productData, quantity: 1 });
            }
            updateCartUI();
            showToast(`Đã thêm "${productData.name || 'Sản phẩm'}" vào giỏ!`);
        }
    
        function removeItemFromCart(itemId) {
            const itemIndex = cartItems.findIndex(item => item.id === itemId);
            if (itemIndex > -1) {
                const removedItemName = cartItems[itemIndex].name || 'Sản phẩm';
                cartItems.splice(itemIndex, 1);
                updateCartUI();
                showToast(`Đã xóa "${removedItemName}" khỏi giỏ hàng.`);
            }
        }
    
        // --- Toast Notification Function ---
        let toastTimeout;
        function showToast(message) {
            if (!toastNotification) return;
            clearTimeout(toastTimeout);
            toastNotification.textContent = message;
            toastNotification.classList.add('show');
            toastTimeout = setTimeout(() => {
                toastNotification.classList.remove('show');
            }, 3000);
        }
    
        // --- Smooth Scroll ---
        function setupSmoothScroll() {
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    const targetId = this.getAttribute('href');
                    if (targetId === '#' || !targetId.startsWith('#')) return; // Only handle hash links within the page
    
                    const targetElement = document.querySelector(targetId);
                    if (targetElement) {
                        e.preventDefault();
                        const action = () => scrollToElement(targetElement); // Use helper function
    
                        // If clicked from mobile menu, close menu first then scroll
                        if (mobileMenu && mobileMenu.classList.contains('active') && this.closest('#mobile-menu')) {
                             closeMobileMenu();
                             setTimeout(action, 300); // Delay scroll slightly for menu animation
                        } else {
                             action(); // Scroll immediately
                        }
                    }
                });
            });
        }
    
        function scrollToElement(element) {
            const header = document.querySelector('header');
            const headerOffset = header ? header.offsetHeight : 0;
            const elementPosition = element.getBoundingClientRect().top;
            const offsetPosition = elementPosition + window.pageYOffset - headerOffset;
    
            window.scrollTo({
                top: offsetPosition,
                behavior: "smooth"
            });
        }
    
        // --- Wishlist Function ---
        function toggleWishlist(button) {
            const icon = button.querySelector('i');
            if (!icon) return;
    
            const isSaved = button.classList.toggle('saved');
            if (isSaved) {
                icon.classList.remove('far');
                icon.classList.add('fas');
                showToast('Đã thêm vào danh sách yêu thích!');
                // Add logic to save to localStorage or backend if needed
            } else {
                icon.classList.remove('fas');
                icon.classList.add('far');
                showToast('Đã xóa khỏi danh sách yêu thích.');
                // Add logic to remove from localStorage or backend if needed
            }
        }
    
        // --- Product Detail View Functions ---
        function showView(viewId) {
            // Hide all specific views first
            if(productDetailView) productDetailView.style.display = 'none';
            // Add similar lines for buyerInfoView and loginView if they exist and are controlled this way
            // if(buyerInfoView) buyerInfoView.style.display = 'none';
            // if(loginView) loginView.style.display = 'none';
    
            // Show the target view
            const targetView = document.getElementById(viewId);
            if (targetView) {
                 targetView.style.display = 'block'; // Or 'flex', 'grid' depending on the view's layout
                 body.classList.add(`viewing-${viewId.replace('-view','')}`); // Add specific body class
                 toggleBodyOverflow(true);
                 window.scrollTo(0, 0); // Scroll to top of the new view
            }
        }
    
        function hideCurrentView() {
             // Hide all specific views
            if(productDetailView) productDetailView.style.display = 'none';
            // Add similar lines for buyerInfoView and loginView
            // if(buyerInfoView) buyerInfoView.style.display = 'none';
            // if(loginView) loginView.style.display = 'none';
    
            // Remove specific body classes
            body.classList.remove('viewing-product-detail');
            // body.classList.remove('viewing-buyer-info');
            // body.classList.remove('viewing-login');
    
            toggleBodyOverflow(false);
            currentProductData = null; // Clear current product data
    
            // Optionally scroll back to a specific section like products
            const productsSection = document.getElementById('products');
            if (productsSection) scrollToElement(productsSection);
        }
    
        function createRelatedProductCard(productData) {
            if (!productData) return null;
            const card = document.createElement('div');
            card.classList.add('related-product-card', 'bg-white', 'rounded-lg', 'shadow', 'overflow-hidden', 'border', 'flex', 'flex-col', 'w-48', 'flex-shrink-0', 'cursor-pointer'); // Added cursor-pointer
            card.dataset.id = productData.id;
    
            // Add event listener to show detail view when related card is clicked
            card.addEventListener('click', () => {
                 // Need to fetch the full data for the clicked related product
                 const fullRelatedDataElement = document.querySelector(`.product-card[data-id='${productData.id}']`);
                 if(fullRelatedDataElement) {
                     const fullRelatedData = extractProductData(fullRelatedDataElement); // Use helper
                     if (fullRelatedData) {
                         showProductDetail(fullRelatedData);
                     } else {
                         console.error("Could not extract full data for related product:", productData.id);
                         showToast("Lỗi: Không thể tải chi tiết sản phẩm liên quan.");
                     }
                 } else {
                     console.error("Could not find original card for related product:", productData.id);
                     showToast("Lỗi: Không thể tải chi tiết sản phẩm liên quan.");
                 }
            });
    
            card.innerHTML = `
                <img src="${productData.imageSmall || productData.image || 'https://placehold.co/192x128/f0f0f0/333?text=N/A'}" alt="${productData.name || 'Sản phẩm'}" class="w-full h-32 object-cover product-image">
                <div class="p-3 flex flex-col flex-grow">
                    <h4 class="text-sm font-semibold text-text-dark mb-1 product-name truncate" title="${productData.name || ''}">${productData.name || 'Sản phẩm'}</h4>
                    <span class="text-sm font-bold text-text-dark product-price mt-auto">${productData.price || 'Liên hệ'}</span>
                </div>
            `;
            return card;
        }
    
        function handleColorSelection(event) {
            const selectedSwatch = event.currentTarget;
            if(detailColorOptionsContainer) {
                detailColorOptionsContainer.querySelectorAll('.color-swatch').forEach(swatch => { swatch.classList.remove('selected'); });
            }
            selectedSwatch.classList.add('selected');
            if(selectedColorNameSpan) {
                 const colorName = selectedSwatch.dataset.colorName || selectedSwatch.title || '';
                 selectedColorNameSpan.textContent = colorName ? `(${colorName})` : '';
            }
            // Optional: Update main product image if color-specific images are available
        }
    
        function displayReviews(reviewsData) {
            if (!detailProductReviews) return;
            detailProductReviews.innerHTML = ''; // Clear existing reviews
    
            try {
                const reviews = JSON.parse(reviewsData || '[]');
                if (reviews.length === 0) {
                    detailProductReviews.innerHTML = '<p class="text-text-light text-sm">Chưa có đánh giá nào.</p>';
                    return;
                }
    
                reviews.forEach(review => {
                    const reviewElement = document.createElement('div');
                    reviewElement.classList.add('border-t', 'border-border-color', 'pt-3');
    
                    const ratingStars = Array(5).fill(0).map((_, i) =>
                        i < (review.rating || 0) ? '<i class="fas fa-star text-yellow-400"></i>' : '<i class="far fa-star text-yellow-400"></i>'
                    ).join('');
    
                    reviewElement.innerHTML = `
                        <p class="font-semibold text-text-dark">${review.author || 'Ẩn danh'}</p>
                        <div class="my-1">${ratingStars}</div>
                        <p class="text-text-light">${review.comment || ''}</p>
                    `;
                    detailProductReviews.appendChild(reviewElement);
                });
            } catch (e) {
                console.error("Error parsing reviews data:", e);
                detailProductReviews.innerHTML = '<p class="text-text-light text-sm">Lỗi hiển thị đánh giá.</p>';
            }
        }
    
    
        function showProductDetail(productData) {
            if (!productDetailView || !productData) return;
            currentProductData = productData; // Store data for add to cart button
    
            // --- Populate Basic Info ---
            if(detailProductName) detailProductName.textContent = productData.name || 'Chi tiết sản phẩm';
            if(detailProductImage) {
                detailProductImage.src = productData.image || 'https://placehold.co/600x450/cccccc/555?text=N/A';
                detailProductImage.alt = productData.name || 'Hình ảnh sản phẩm';
            }
            if(detailProductPrice) detailProductPrice.textContent = productData.price || 'Liên hệ';
            if(detailProductOriginalPrice) {
                if (productData.originalPrice) {
                    detailProductOriginalPrice.textContent = productData.originalPrice;
                    detailProductOriginalPrice.classList.remove('hidden');
                } else {
                    detailProductOriginalPrice.classList.add('hidden');
                }
            }
    
            // --- Populate Offer ---
            if (detailProductOfferContainer && detailProductOffer) {
                if (productData.offer) {
                    detailProductOffer.textContent = productData.offer;
                    detailProductOfferContainer.classList.remove('hidden');
                } else {
                    detailProductOfferContainer.classList.add('hidden');
                }
            }
    
            // --- Populate Description, Specs, Origin ---
            if(detailProductDescription) detailProductDescription.textContent = productData.description || 'Chưa có mô tả.';
            if(detailProductSpecs) detailProductSpecs.textContent = productData.specs || 'Chưa có thông số.';
            if(detailProductOrigin) detailProductOrigin.textContent = productData.origin || 'Đang cập nhật';
    
            // --- Populate Color Swatches ---
            if (detailColorOptionsContainer && selectedColorNameSpan) {
                detailColorOptionsContainer.innerHTML = ''; // Clear previous swatches
                selectedColorNameSpan.textContent = ''; // Clear selected color name
                const colorContainerDiv = detailColorOptionsContainer.closest('div'); // Get parent div to hide/show
    
                try {
                    const colors = JSON.parse(productData.colors || '[]');
                    if (colors && colors.length > 0) {
                        colors.forEach((colorData, index) => {
                            if (!colorData || !colorData.code) return; // Skip invalid color data
    
                            const swatch = document.createElement('span');
                            swatch.classList.add('color-swatch');
                            swatch.style.backgroundColor = colorData.code;
                            swatch.title = colorData.name || colorData.code; // Tooltip text
                            swatch.dataset.colorName = colorData.name || colorData.code;
                            swatch.dataset.colorCode = colorData.code;
    
                            if (index === 0) { // Select first color by default
                                swatch.classList.add('selected');
                                selectedColorNameSpan.textContent = `(${swatch.dataset.colorName})`;
                            }
                            swatch.addEventListener('click', handleColorSelection);
                            detailColorOptionsContainer.appendChild(swatch);
                        });
                        if (colorContainerDiv) colorContainerDiv.classList.remove('hidden');
                    } else {
                        if (colorContainerDiv) colorContainerDiv.classList.add('hidden');
                    }
                } catch (e) {
                    console.error("Error parsing colors data:", e, "Data:", productData.colors);
                    if (colorContainerDiv) colorContainerDiv.classList.add('hidden');
                }
            }
    
    
           // --- Populate Reviews ---
           displayReviews(productData.reviews); // Use the new function
    
            // --- Populate Related Products ---
            const relatedSection = document.getElementById('related-products-section');
            if (relatedProductsContainer && relatedSection) {
                relatedProductsContainer.innerHTML = ''; // Clear previous related products
                try {
                    const relatedIds = JSON.parse(productData.related || '[]');
                    if (relatedIds.length > 0) {
                        let foundRelated = false;
                        relatedIds.forEach(relatedId => {
                            const relatedCardElement = document.querySelector(`.product-card[data-id='${relatedId}']`);
                            if (relatedCardElement) {
                                 const relatedData = extractProductData(relatedCardElement); // Use helper
                                if(relatedData) {
                                    const relatedCard = createRelatedProductCard(relatedData); // Ensure this function exists and is correct
                                    if (relatedCard) {
                                        relatedProductsContainer.appendChild(relatedCard);
                                        foundRelated = true;
                                    }
                                }
                            }
                        });
                        relatedSection.style.display = foundRelated ? 'block' : 'none'; // Show/hide section
                    } else {
                        relatedSection.style.display = 'none'; // Hide if no related IDs
                    }
                } catch (e) {
                    console.error("Error parsing related products data:", e);
                    relatedSection.style.display = 'none'; // Hide on error
                }
            }
    
            // --- Show the Detail View ---
            showView('product-detail-view'); // Use the view management function
        }
    
        // Helper to extract product data from a card element
        function extractProductData(cardElement) {
             if (!cardElement || !cardElement.dataset) return null;
             return {
                id: cardElement.dataset.id,
                name: cardElement.dataset.name,
                price: cardElement.dataset.price,
                originalPrice: cardElement.dataset.originalPrice,
                image: cardElement.dataset.image || cardElement.querySelector('.product-image')?.src,
                imageSmall: cardElement.querySelector('.product-image')?.src, // Use image from card for small version
                description: cardElement.dataset.description,
                specs: cardElement.dataset.specs,
                origin: cardElement.dataset.origin,
                colors: cardElement.dataset.colors,
                offer: cardElement.dataset.offer,
                related: cardElement.dataset.related,
                reviews: cardElement.dataset.reviews // Make sure reviews are in data-* attribute
            };
        }
    
        // --- Checkout Modal Functions ---
        function openCheckoutModal() {
            if (checkoutModal && checkoutOverlay) {
                checkoutModal.classList.add('active');
                checkoutOverlay.classList.add('active');
                toggleBodyOverflow(true);
            }
        }
    
        function closeCheckoutModal() {
            if (checkoutModal && checkoutOverlay) {
                checkoutModal.classList.remove('active');
                checkoutOverlay.classList.remove('active');
                toggleBodyOverflow(false);
            }
        }
    
        // --- Image Slider Functions ---
        function updateSliderPosition() {
            if (sliderInner && slides.length > 0) {
                sliderInner.style.transform = `translateX(-${currentSlideIndex * 100}%)`;
                updateSliderDots();
            }
        }
    
        function updateSliderDots() {
            if (sliderDotsContainer && slides.length > 0) {
                sliderDotsContainer.innerHTML = ''; // Clear existing dots
                for (let i = 0; i < slides.length; i++) {
                    const dot = document.createElement('button');
                    dot.classList.add('slider-dot');
                    if (i === currentSlideIndex) {
                        dot.classList.add('active');
                    }
                    dot.setAttribute('aria-label', `Go to slide ${i + 1}`);
                    dot.addEventListener('click', () => {
                        goToSlide(i);
                    });
                    sliderDotsContainer.appendChild(dot);
                }
            }
        }
    
        function nextSlide() {
            if (slides.length > 0) {
                currentSlideIndex = (currentSlideIndex + 1) % slides.length;
                updateSliderPosition();
            }
        }
    
        function prevSlide() {
            if (slides.length > 0) {
                currentSlideIndex = (currentSlideIndex - 1 + slides.length) % slides.length;
                updateSliderPosition();
            }
        }
    
        function goToSlide(index) {
            if (slides.length > 0 && index >= 0 && index < slides.length) {
                currentSlideIndex = index;
                updateSliderPosition();
                resetSlideInterval(); // Reset timer when manually changing slide
            }
        }
    
        function startSlideInterval() {
            if (slides.length > 1) { // Only start if more than one slide
                clearInterval(slideInterval); // Clear existing interval first
                slideInterval = setInterval(nextSlide, 5000); // Auto-slide every 5 seconds
            }
        }
    
        function resetSlideInterval() {
            if (slides.length > 1) {
                clearInterval(slideInterval);
                slideInterval = setInterval(nextSlide, 5000);
            }
        }
    
        // --- Gemini Chat Functions ---
        function displayMessage(message, sender) {
            if (!chatboxBody) return;
            const messageDiv = document.createElement('div');
            messageDiv.classList.add('chat-message', sender === 'user' ? 'user-message' : 'ai-message');
    
            const messageP = document.createElement('p');
            messageP.classList.add('p-2', 'rounded-lg', 'inline-block', 'max-w-[85%]', 'text-sm');
            if (sender === 'user') {
                messageP.classList.add('bg-blue-500', 'text-white', 'ml-auto'); // User style
                messageDiv.classList.add('text-right'); // Align container right
            } else {
                messageP.classList.add('bg-chat-bg', 'text-text-dark'); // AI style (using defined chat-bg color)
            }
            messageP.textContent = message; // Use textContent for security against XSS
    
            messageDiv.appendChild(messageP);
            chatboxBody.appendChild(messageDiv);
    
            // Scroll to bottom
            chatboxBody.scrollTop = chatboxBody.scrollHeight;
        }
    
        function showTypingIndicator() {
            if (!chatboxBody || document.getElementById('typing-indicator')) return; // Don't add multiple
    
            const typingDiv = document.createElement('div');
            typingDiv.id = 'typing-indicator';
            typingDiv.classList.add('chat-message', 'ai-message');
            typingDiv.innerHTML = `
                <p class="bg-chat-bg text-text-dark p-2 rounded-lg inline-block max-w-[85%] text-sm italic">
                    NHI APPLE đang soạn tin... <span class="animate-pulse">...</span>
                </p>
            `;
            chatboxBody.appendChild(typingDiv);
            chatboxBody.scrollTop = chatboxBody.scrollHeight;
        }
    
        function hideTypingIndicator() {
            const typingIndicator = document.getElementById('typing-indicator');
            if (typingIndicator) {
                typingIndicator.remove();
            }
        }
    
        async function sendMessageToAI(userMessage) {
            if (!userMessage.trim() || !chatInput || !chatSendButton || !chatboxBody) return;
    
            // Check if API Key is set
            if (GEMINI_API_KEY === 'YOUR_API_KEY_HERE') {
                 displayMessage("Lỗi: Chưa cấu hình API Key cho trợ lý ảo.", 'ai');
                 console.error("Gemini API Key is not set.");
                 return;
            }
    
            displayMessage(userMessage, 'user'); // Show user message immediately
    
            // Add user message to conversation history
            conversationHistory.push({ role: "user", parts: [{ text: userMessage }] });
    
            // Update UI: Clear input, show typing, disable send button
            chatInput.value = '';
            showTypingIndicator();
            chatSendButton.disabled = true;
            chatInput.disabled = true; // Disable input while waiting
    
            try {
                 // Construct the full URL with the API key for the fetch call
                const urlWithKey = `${GEMINI_API_URL}?key=${GEMINI_API_KEY}`;
    
                const response = await fetch(urlWithKey, { // Use the corrected URL with key
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        contents: conversationHistory,
                    }),
                });
    
                hideTypingIndicator(); // Hide typing indicator once response starts processing
    
                if (!response.ok) {
                    let errorMsg = `Lỗi API (${response.status})`;
                    try {
                        const errorData = await response.json();
                        // Gemini often returns error details in error.message
                        errorMsg = errorData.error?.message || errorMsg;
                        console.error("API Error Data:", errorData);
                    } catch (e) {
                        errorMsg = `${errorMsg} - ${response.statusText}`; // Fallback if JSON parsing fails
                        console.error("Could not parse error JSON:", e);
                    }
                    displayMessage(errorMsg, 'ai');
                    conversationHistory.pop(); // Remove user's last message from history on error
                    return; // Exit function on API error
                }
    
                const data = await response.json();
    
                // Safely extract AI response text
                // Gemini responses might be blocked due to safety settings or have no content
                let aiResponseText;
                if (data.candidates && data.candidates.length > 0) {
                     const candidate = data.candidates[0];
                     if (candidate.finishReason === "SAFETY") {
                        aiResponseText = "Xin lỗi, tôi không thể trả lời câu hỏi này vì lý do an toàn.";
                        // Don't add safety blocked responses to history as "model" role
                     } else if (candidate.content && candidate.content.parts && candidate.content.parts.length > 0) {
                         aiResponseText = candidate.content.parts[0].text;
                         // Add valid AI response to history
                         conversationHistory.push({ role: "model", parts: [{ text: aiResponseText }] });
                     } else {
                        // No content part found, even if finishReason is normal
                        aiResponseText = "Xin lỗi, tôi không nhận được phản hồi hợp lệ.";
                        console.warn("Unexpected API response structure (no content parts):", data);
                        conversationHistory.pop(); // Remove user msg if AI response is invalid
                     }
    
                } else if (data.promptFeedback && data.promptFeedback.blockReason) {
                    // Prompt itself was blocked
                     aiResponseText = `Yêu cầu của bạn đã bị chặn vì lý do: ${data.promptFeedback.blockReason}.`;
                     console.warn("Prompt blocked by API:", data.promptFeedback);
                     conversationHistory.pop(); // Remove user msg if prompt was blocked
                }
                 else {
                    // General unexpected structure
                    aiResponseText = "Xin lỗi, có lỗi xảy ra khi xử lý phản hồi.";
                    console.warn("Unexpected API response structure:", data);
                    conversationHistory.pop(); // Remove user msg if AI response is invalid
                }
    
                displayMessage(aiResponseText, 'ai'); // Display AI message or relevant error/fallback
    
            } catch (error) {
                hideTypingIndicator();
                console.error("Fetch Error:", error);
                displayMessage("Lỗi kết nối mạng hoặc xử lý. Vui lòng thử lại.", 'ai');
                if (conversationHistory.length > 0 && conversationHistory[conversationHistory.length - 1].role === 'user') {
                    conversationHistory.pop(); // Remove user's last message from history on fetch error
                }
            } finally {
                // Re-enable input and button regardless of success or failure
                chatSendButton.disabled = false;
                chatInput.disabled = false;
                chatInput.focus(); // Focus back on input
            }
        }
    
        // --- Chatbox Toggle Function ---
        function toggleChatbox() {
            if (!chatbox || !chatInput) return; // Ensure elements exist
    
            isChatboxOpen = !isChatboxOpen; // Toggle state
            if (isChatboxOpen) {
                chatbox.classList.add('active');
                chatInput.focus(); // Focus input when opened
                toggleBodyOverflow(true); // Prevent background scroll
            } else {
                chatbox.classList.remove('active');
                toggleBodyOverflow(false); // Allow background scroll if nothing else prevents it
            }
        }
    
    
        // --- Event Listeners ---
    
        // Mobile Menu Listeners
        if(mobileMenuButton) mobileMenuButton.addEventListener('click', openMobileMenu);
        if(closeMobileMenuButton) closeMobileMenuButton.addEventListener('click', closeMobileMenu);
        if(mobileMenuOverlay) mobileMenuOverlay.addEventListener('click', closeMobileMenu);
    
        // Cart Panel Listeners
        if (cartButton) cartButton.addEventListener('click', openCartPanel);
        if (cartButtonMobile) cartButtonMobile.addEventListener('click', openCartPanel);
        if (closeCartButton) closeCartButton.addEventListener('click', closeCartPanel);
        if (cartOverlay) cartOverlay.addEventListener('click', closeCartPanel);
    
        // Product Card Click Listener (to show detail view)
        productCards.forEach(card => {
            card.addEventListener('click', (e) => {
                // Prevent triggering detail view when clicking interactive elements inside the card
                if (e.target.closest('.add-to-cart-button') ||
                    e.target.closest('.buy-now-button') || // Added buy now button check
                    e.target.closest('.wishlist-button')) {
                    return;
                }
                const productData = extractProductData(card); // Use helper
                if(productData) {
                   showProductDetail(productData);
                } else {
                    console.error("Failed to extract product data from card:", card.dataset.id);
                    showToast("Lỗi: Không thể xem chi tiết sản phẩm.");
                }
            });
        });
    
        // Back Buttons for Views
        if(backToProductsButton) backToProductsButton.addEventListener('click', hideCurrentView);
        
        // Add to Cart Buttons (on product cards)
        addToCartButtons.forEach(button => {
            button.addEventListener('click', (e) => {
                e.stopPropagation(); // Prevent card click event
                const card = button.closest('.product-card');
                if (card) {
                    const productData = extractProductData(card); // Use helper
                    if(productData) {
                       addItemToCart(productData);
                    } else {
                        console.error("Could not extract data to add to cart from card:", card.dataset.id);
                        showToast("Lỗi: Không thể thêm vào giỏ.");
                    }
                }
            });
        });
    
         // Buy Now Buttons (on product cards - Assuming they add to cart & go to checkout)
         document.querySelectorAll('.buy-now-button').forEach(button => {
            button.addEventListener('click', (e) => {
                e.stopPropagation();
                const card = button.closest('.product-card');
                if (card) {
                    const productData = extractProductData(card);
                    if (productData) {
                        addItemToCart(productData); // Add item first
                        if (cartItems.length > 0) { // Then open checkout
                             openCheckoutModal();
                        }
                    } else {
                        console.error("Could not extract data for buy now from card:", card.dataset.id);
                        showToast("Lỗi: Không thể mua ngay.");
                    }
                }
            });
        });
    
    
        // Add to Cart Button (on product detail view)
        if(detailAddToCartButton) {
          detailAddToCartButton.addEventListener('click', () => {
              if (currentProductData) {
                  // Pass necessary info, imageSmall might be more appropriate if available
                  addItemToCart({
                      id: currentProductData.id,
                      name: currentProductData.name,
                      price: currentProductData.price,
                      image: currentProductData.imageSmall || currentProductData.image
                  });
              } else {
                   console.error("No currentProductData found for detail add to cart.");
                   showToast("Lỗi: Vui lòng thử lại.");
              }
          });
        }
    
        // Wishlist Buttons
        wishlistButtons.forEach(button => {
            button.addEventListener('click', (e) => {
                e.stopPropagation(); // Prevent card click event
                toggleWishlist(button);
            });
        });
    
        // Chatbox Toggle Listeners
        if (supportButton) supportButton.addEventListener('click', toggleChatbox);
        if (closeChatboxButton) closeChatboxButton.addEventListener('click', toggleChatbox);
    
        // Chat Send Listeners
        if (chatSendButton && chatInput) {
            chatSendButton.addEventListener('click', () => {
                sendMessageToAI(chatInput.value);
            });
    
            chatInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    e.preventDefault(); // Prevent default newline on Enter
                    sendMessageToAI(chatInput.value);
                }
            });
        } else {
            console.warn("Chat input or send button not found. Chat functionality disabled.");
        }
    
        // Checkout Process Listeners
        if(checkoutButton) {
          checkoutButton.addEventListener('click', () => {
              if (cartItems.length > 0) {
                  closeCartPanel(); // Close cart before opening checkout
                  openCheckoutModal();
              } else {
                  showToast("Giỏ hàng trống. Vui lòng thêm sản phẩm.");
              }
          });
        }
        if(closeCheckoutButton) closeCheckoutButton.addEventListener('click', closeCheckoutModal);
        if(checkoutOverlay) checkoutOverlay.addEventListener('click', closeCheckoutModal); // Checkout modal overlay click
    
        if(checkoutForm) {
          checkoutForm.addEventListener('submit', (e) => {
              e.preventDefault();
              // Simulate order placement
              console.log('Placing order with data:', Object.fromEntries(new FormData(checkoutForm).entries()));
              showToast('Đặt hàng thành công! (Demo)');
              closeCheckoutModal();
              cartItems = []; // Clear cart state
              updateCartUI(); // Update cart UI
              checkoutForm.reset(); // Reset form fields
          });
        }
    
        // Basic Header Search Input Listener (Demo)
        if (headerSearchInput) {
            headerSearchInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    e.preventDefault();
                    const searchTerm = headerSearchInput.value.trim();
                    if(searchTerm) {
                       console.log('Searching for:', searchTerm);
                       showToast(`Đang tìm kiếm: "${searchTerm}" (Demo)`);
                       // Add actual search/filtering logic here
                    }
                }
            });
        }
    
        // Image Slider Listeners
        if (sliderPrevButton) sliderPrevButton.addEventListener('click', () => { prevSlide(); resetSlideInterval(); });
        if (sliderNextButton) sliderNextButton.addEventListener('click', () => { nextSlide(); resetSlideInterval(); });
    
    
        // --- Initial Setup ---
        document.addEventListener('DOMContentLoaded', () => {
            setupSmoothScroll(); // Initialize smooth scrolling
            updateCartUI();      // Initialize cart UI on page load
    
            // Initialize Image Slider if elements exist and there are slides
            if (slides.length > 0 && sliderInner && sliderDotsContainer) {
                updateSliderPosition(); // Set initial position
                startSlideInterval();   // Start auto-sliding
            } else {
                // Optionally hide slider controls if no slides
                const sliderSection = document.getElementById('image-slider-section');
                if(sliderSection) sliderSection.style.display = 'none';
            }
    
        });
    
    </script>
</body>
</html>
